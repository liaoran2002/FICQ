{"version":3,"sources":["webpack:///./src/components/chat/ChatHistory.vue?38dc","webpack:///./src/components/common/RightMenu.vue?f454","webpack:///./node_modules/core-js/modules/web.url-search-params.has.js","webpack:///./src/components/group/GroupMember.vue","webpack:///src/components/group/GroupMember.vue","webpack:///./src/components/group/GroupMember.vue?7557","webpack:///./src/components/group/GroupMember.vue?703c","webpack:///./src/components/common/RightMenu.vue","webpack:///src/components/common/RightMenu.vue","webpack:///./src/components/common/RightMenu.vue?a568","webpack:///./src/components/common/RightMenu.vue?57f8","webpack:///./src/view/Chat.vue","webpack:///./src/components/chat/ChatItem.vue","webpack:///src/components/chat/ChatItem.vue","webpack:///./src/components/chat/ChatItem.vue?739f","webpack:///./src/components/chat/ChatItem.vue?7494","webpack:///./src/components/chat/ChatBox.vue","webpack:///./src/components/chat/ChatGroupSide.vue","webpack:///src/components/chat/ChatGroupSide.vue","webpack:///./src/components/chat/ChatGroupSide.vue?5c01","webpack:///./src/components/chat/ChatGroupSide.vue?2510","webpack:///./src/components/chat/ChatMessageItem.vue","webpack:///./src/components/chat/ChatGroupReaded.vue","webpack:///./src/components/common/VirtualScroller.vue","webpack:///src/components/common/VirtualScroller.vue","webpack:///./src/components/common/VirtualScroller.vue?fd4f","webpack:///./src/components/common/VirtualScroller.vue?2303","webpack:///./src/components/chat/ChatGroupMember.vue","webpack:///src/components/chat/ChatGroupMember.vue","webpack:///./src/components/chat/ChatGroupMember.vue?51e6","webpack:///./src/components/chat/ChatGroupMember.vue?e645","webpack:///src/components/chat/ChatGroupReaded.vue","webpack:///./src/components/chat/ChatGroupReaded.vue?10bb","webpack:///./src/components/chat/ChatGroupReaded.vue?8861","webpack:///src/components/chat/ChatMessageItem.vue","webpack:///./src/components/chat/ChatMessageItem.vue?f450","webpack:///./src/components/chat/ChatMessageItem.vue?454c","webpack:///./src/components/common/Emotion.vue","webpack:///src/components/common/Emotion.vue","webpack:///./src/components/common/Emotion.vue?bde4","webpack:///./src/components/common/Emotion.vue?fe78","webpack:///./src/components/chat/ChatRecord.vue","webpack:///src/components/chat/ChatRecord.vue","webpack:///./src/components/chat/ChatRecord.vue?5a85","webpack:///./src/components/chat/ChatRecord.vue?d2aa","webpack:///./src/components/chat/ChatHistory.vue","webpack:///src/components/chat/ChatHistory.vue","webpack:///./src/components/chat/ChatHistory.vue?5c8b","webpack:///./src/components/chat/ChatHistory.vue?bb2e","webpack:///./src/components/chat/ChatAtBox.vue","webpack:///src/components/chat/ChatAtBox.vue","webpack:///./src/components/chat/ChatAtBox.vue?c06f","webpack:///./src/components/chat/ChatAtBox.vue?30a1","webpack:///./src/components/group/GroupMemberSelector.vue","webpack:///./src/components/group/GroupMemberItem.vue","webpack:///src/components/group/GroupMemberItem.vue","webpack:///./src/components/group/GroupMemberItem.vue?66af","webpack:///./src/components/group/GroupMemberItem.vue?8ced","webpack:///src/components/group/GroupMemberSelector.vue","webpack:///./src/components/group/GroupMemberSelector.vue?e344","webpack:///./src/components/group/GroupMemberSelector.vue?f421","webpack:///./src/components/chat/ChatInput.vue","webpack:///src/components/chat/ChatInput.vue","webpack:///./src/components/chat/ChatInput.vue?77ac","webpack:///./src/components/chat/ChatInput.vue?e94a","webpack:///src/components/chat/ChatBox.vue","webpack:///./src/components/chat/ChatBox.vue?30e0","webpack:///./src/components/chat/ChatBox.vue?52d1","webpack:///src/view/Chat.vue","webpack:///./src/view/Chat.vue?cd7d","webpack:///./src/view/Chat.vue?28df","webpack:///./node_modules/core-js/modules/web.url-search-params.size.js","webpack:///./src/view/Chat.vue?5925","webpack:///./src/components/chat/ChatRecord.vue?de40","webpack:///./src/components/friend/FriendItem.vue?f198","webpack:///./src/components/chat/ChatMessageItem.vue?5005","webpack:///./src/components/chat/ChatItem.vue?ceb9","webpack:///./src/components/group/GroupMember.vue?7006","webpack:///./src/components/group/GroupMemberItem.vue?9575","webpack:///./src/components/common/Emotion.vue?15e1","webpack:///./node_modules/core-js/modules/web.url-search-params.delete.js","webpack:///./src/components/group/GroupMemberSelector.vue?5393","webpack:///./src/components/chat/ChatAtBox.vue?14f8","webpack:///./node_modules/js-audio-recorder/dist/recorder.js","webpack:///./src/components/group/AddGroupMember.vue","webpack:///src/components/group/AddGroupMember.vue","webpack:///./src/components/group/AddGroupMember.vue?3cef","webpack:///./src/components/group/AddGroupMember.vue?874b","webpack:///./src/components/chat/ChatInput.vue?0e7e","webpack:///./src/components/chat/ChatGroupSide.vue?5cd0","webpack:///./src/components/group/AddGroupMember.vue?f964","webpack:///./node_modules/core-js/internals/validate-arguments-length.js","webpack:///./src/components/chat/ChatGroupMember.vue?eb17","webpack:///./node_modules/js-audio-recorder/index.js","webpack:///./src/components/chat/ChatGroupReaded.vue?628d","webpack:///./src/components/chat/ChatBox.vue?c230","webpack:///./src/components/friend/FriendItem.vue","webpack:///src/components/friend/FriendItem.vue","webpack:///./src/components/friend/FriendItem.vue?0be5","webpack:///./src/components/friend/FriendItem.vue?35de"],"names":["defineBuiltIn","uncurryThis","toString","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","prototype","getAll","$has","has","params","undefined","name","length","arguments","$value","this","values","value","index","enumerable","unsafe","render","_vm","_c","_self","staticClass","attrs","member","userId","showNickName","headImage","online","showDel","on","$event","stopPropagation","onDelete","_e","_v","_s","staticRenderFns","components","HeadImage","data","props","type","Object","required","Boolean","default","methods","$emit","component","close","preventDefault","style","pos","x","y","_l","items","item","key","nativeOn","onSelectMenu","Array","model","searchText","callback","$$v","expression","slot","loading","directives","rawName","chatStore","chats","chat","delete","showName","includes","activeChat","onDelItem","onTop","onActiveItem","class","active","showRightMenu","targetId","unreadCount","showTime","atText","isShowSendName","sendNickName","domProps","$emo","transform","lastContent","rightMenu","show","RightMenu","icon","Number","e","toLowerCase","msgInfo","computed","size","messages","lastMsg","$msgType","isNormal","$date","toTimeText","lastSendTime","atMe","atAll","closeRefBox","readedMessage","title","showSide","staticStyle","onScroll","idx","showMinIdx","sendId","mine","id","groupMembers","onCall","deleteMessage","recallMessage","ref","showEmotionBox","onImageBefore","onImageSuccess","onImageFail","onFileBefore","onFileSuccess","onFileFail","memberSize","isReceipt","onSwitchReceipt","showRecordBox","showHistoryBox","group","ownerId","sendMessage","notifySend","loadGroup","onEmotion","showRecord","closeRecordBox","onSendRecord","showHistory","friend","closeHistoryBox","quit","scrollHeight","showAddGroupMember","showMembers","showMaxIdx","$set","ownerName","notice","editing","remarkGroupName","remarkNickName","onSaveGroup","isOwner","onQuit","AddGroupMember","GroupMember","onClose","loadGroupMembers","$http","url","method","then","members","vo","$store","commit","$message","success","$confirm","confirmButtonText","cancelButtonText","scrollbar","target","scrollTop","clientHeight","find","m","state","userStore","userInfo","filter","Math","min","mounted","scrollWrap","$refs","$el","querySelector","addEventListener","$enums","MESSAGE_TYPE","TIP_TEXT","content","TIP_TIME","sendTime","mode","groupId","selfSend","TEXT","SENTEXT","htmlText","IMAGE","JSON","parse","thumbUrl","showFullImageBox","loadFail","onSendFail","FILE","fileSize","_m","AUDIO","onPlayVoice","isAction","ACT_RT_VOICE","ACT_RT_VIDEO","status","MESSAGE_STATUS","READED","receipt","onShowReadedBox","receiptOk","readedCount","menu","menuItems","currentTarget","readedMembers","scopedSlots","_u","fn","unreadMembers","arrowY","_t","page","isInitEvent","lockTip","init","initEvent","showTip","setTimeout","height","headImageSize","ceil","ChatGroupMember","VirtualScroller","open","rect","left","right","top","loadReadedUser","messageId","userIds","forEach","push","chatInfo","ChatGroupReaded","String","audioPlayState","error","imageUrl","originUrl","audio","Audio","src","play","chatMsgBox","getBoundingClientRect","chatGroupReadedBox","loadStatus","round","color","text","$url","replaceURLWithHTMLLinks","emoTextList","emoText","i","textToImg","onClickEmo","emotion","visible","stateTip","parseInt","rc","duration","onStopAudio","onStartRecord","onPauseRecord","onResumeRecord","onCompleteRecord","onPlayAudio","onRestartRecord","Recorder","destroy","pause","start","stream","catch","resume","wav","getWAVBlob","URL","createObjectURL","Date","getDate","formData","window","FormData","append","headers","ChatMessageItem","loadAll","lastScrollTime","high","wrap","timeDiff","getTime","loadMessages","param","friendId","histroyAction","unshift","refreshScrollPos","nickName","headImageThumb","$nextTick","offsetTop","watch","handler","newValue","oldValue","document","getElementById","activeIdx","onSelectMember","scrollBox","startsWith","moveUp","scrollToActive","moveDown","select","newText","oldText","isShow","onClickMember","locked","onChange","checked","checkedMembers","ok","GroupMemberItem","maxSize","checkedIds","lockedIds","indexOf","ids","hide","isEmpty","onPaste","apply","onKeydown","compositionFlag","onCompositionEnd","onEditorInput","onMousedown","onBlur","atSearchText","onAtSelect","ChatAtBox","imageList","fileList","currentId","atIng","changeStored","blurRange","txt","clipboardData","getData","range","getSelection","getRangeAt","startContainer","endContainer","startOffset","endOffset","deleteContents","textNode","createTextNode","insertNode","collapse","file","getAsFile","imagePush","fileId","generateId","line","newLine","imageElement","createElement","className","dataset","imgId","appendChild","after","selectElement","asFile","filePush","fileElement","createFile","element","selection","t1","createRange","setStart","setEnd","firstChild","selectNodeContents","removeAllRanges","addRange","focus","keyCode","console","log","s","innerHTML","trim","empty","atBox","ctrlKey","childNodes","submit","contentEditable","innerText","$props","textContent","startIndex","endIndex","substring","showAtBox","updateRange","insertEmoji","emojiText","emojiElement","emojiCode","textToUrl","container","fileName","sizeConvert","len","toFixed","divElement","parentElement","insertAdjacentElement","clear","html2Escape","strHtml","replace","c","nodes","fullList","tempText","atUserIds","each","node","nodeType","nodeName","outerHtml","ChatInput","FileUpload","ChatGroupSide","Emotion","ChatRecord","ChatHistory","GroupMemberSelector","sendImageUrl","sendImageFile","placeholder","lockMessage","reqQueue","isSending","moveChatToTop","chatIdx","getters","findChatIdx","emoBox","showPrivateVideo","refreshPlaceHolder","stringify","sendMessageRequest","isBanned","showBannedTip","tmpId","uid","UNSEND","fillTargetId","scrollToBottom","onCloseSide","onScrollToTop","scrollElement","width","offsetWidth","$elm","fixLeft","fixTop","chatInputEditor","recvId","resetEditor","sendText","msg","sendTextMessage","sendImageMessage","sendFileMessage","Promise","resolve","reject","post","res","finally","check","fileUpload","beforeUpload","onFileUpload","loadReaded","fId","maxId","updateFriendInfo","isFriend","loadFriend","div","editBox","processReqQueue","reqData","shift","messageAction","reason","floor","random","findFriend","messageSize","newChat","oldChat","immediate","newSize","oldSize","ChatItem","ChatBox","messageContent","loadingGroupMsg","loadingPrivateMsg","DESCRIPTORS","defineBuiltInAccessor","get","count","configurable","$delete","entries","v","k","entry","dindex","found","entriesLength","t","module","exports","n","o","l","call","d","defineProperty","r","Symbol","toStringTag","__esModule","create","bind","hasOwnProperty","p","setUint8","charCodeAt","compress","max","a","u","Float32Array","f","encodePCM","ArrayBuffer","DataView","setInt8","setInt16","encodeWAV","byteLength","setUint32","setUint16","getUint8","__extends","setPrototypeOf","__proto__","constructor","isrecording","ispause","isplaying","setOption","setNewOption","startRecord","pauseRecord","resumeRecord","stop","stopRecord","onplay","addPlayEnd","onplayend","getWAV","buffer","getPlayTime","pausePlay","onpauseplay","resumePlay","onresumeplay","stopPlay","onstopplay","destroyPlay","destroyRecord","getRecordAnalyseData","getAnalyseData","getPlayAnalyseData","getPCM","inputSampleRate","outputSampleRate","oututSampleBits","littleEdian","getPCMBlob","Blob","downloadPCM","config","numChannels","downloadWAV","download","getChannelData","sampleBits","getInt16","getInt8","href","click","decodeAudioData","slice","createBufferSource","onended","currentTime","connect","destination","throwError","h","AudioContext","webkitAudioContext","createAnalyser","fftSize","Uint8Array","frequencyBinCount","getByteTimeDomainData","Error","lBuffer","rBuffer","tempPCM","inputSampleBits","needRecord","sampleRate","Int16Array","initUserMedia","context","initRecorder","navigator","mediaDevices","getUserMedia","audioInput","createMediaStreamSource","analyser","recorder","disconnect","source","clearRecordStatus","stopStream","closeAudioContext","flat","PCM","set","createScriptProcessor","createJavaScriptNode","onaudioprocess","inputBuffer","onprocess","onprogress","vol","getTracks","webkitGetUserMedia","mozGetUserMedia","transformIntoPCM","getPermission","friends","onSwitchCheck","disabled","isCheck","checkCount","onRemoveFriend","onOk","FriendItem","inviteVO","friendIds","newData","oldData","friendStore","deleted","$TypeError","TypeError","passed","onlineWeb","onlineApp"],"mappings":"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","file":"js/chunk-3b5de258.ae6e1142.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatHistory.vue?vue&type=style&index=0&id=5bacf110&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightMenu.vue?vue&type=style&index=0&id=5d68fb58&prod&lang=scss\"","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"group-member\"},[_c('head-image',{attrs:{\"id\":_vm.member.userId,\"name\":_vm.member.showNickName,\"url\":_vm.member.headImage,\"size\":38,\"online\":_vm.member.online}},[(_vm.showDel)?_c('div',{staticClass:\"btn-kick el-icon-error\",on:{\"click\":function($event){$event.stopPropagation();return _vm.onDelete()}}}):_vm._e()]),_c('div',{staticClass:\"member-name\"},[_vm._v(_vm._s(_vm.member.showNickName))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"group-member\">\n\t\t<head-image :id=\"member.userId\" :name=\"member.showNickName\" :url=\"member.headImage\" :size=\"38\"\n\t\t\t:online=\"member.online\">\n\t\t\t<div v-if=\"showDel\" @click.stop=\"onDelete()\" class=\"btn-kick el-icon-error\"></div>\n\t\t</head-image>\n\t\t<div class=\"member-name\">{{ member.showNickName }}</div>\n\t</div>\n</template>\n\n<script>\nimport HeadImage from \"../common/HeadImage.vue\";\nexport default {\n\tname: \"groupMember\",\n\tcomponents: { HeadImage },\n\tdata() {\n\t\treturn {};\n\t},\n\tprops: {\n\t\tmember: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tshowDel: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tonDelete() {\n\t\t\tthis.$emit(\"del\", this.member);\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.group-member {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\twidth: 50px;\n\n\t.member-name {\n\t\tfont-size: 12px;\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\tline-height: 30px;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden\n\t}\n\n\t.btn-kick {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: -8px;\n\t\ttop: -8px;\n\t\tcolor: darkred;\n\t\tfont-size: 20px;\n\t\tcursor: pointer;\n\t}\n\n\t&:hover .btn-kick {\n\t\tdisplay: block;\n\t\tcolor: #ce1818;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupMember.vue?vue&type=template&id=98e9470e\"\nimport script from \"./GroupMember.vue?vue&type=script&lang=js\"\nexport * from \"./GroupMember.vue?vue&type=script&lang=js\"\nimport style0 from \"./GroupMember.vue?vue&type=style&index=0&id=98e9470e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"right-menu-mask\",on:{\"click\":function($event){$event.stopPropagation();return _vm.close()},\"contextmenu\":function($event){$event.preventDefault();return _vm.close()}}},[_c('div',{staticClass:\"right-menu\",style:({ 'left': _vm.pos.x + 'px', 'top': _vm.pos.y + 'px' })},[_c('el-menu',{attrs:{\"text-color\":\"#333333\"}},_vm._l((_vm.items),function(item){return _c('el-menu-item',{key:item.key,attrs:{\"title\":item.name},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.onSelectMenu(item)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"right-menu-mask\" @click.stop=\"close()\" @contextmenu.prevent=\"close()\">\n\t\t<div class=\"right-menu\" :style=\"{ 'left': pos.x + 'px', 'top': pos.y + 'px' }\">\n\t\t\t<el-menu text-color=\"#333333\">\n\t\t\t\t<el-menu-item v-for=\"(item) in items\" :key=\"item.key\" :title=\"item.name\"\n\t\t\t\t\t@click.native.stop=\"onSelectMenu(item)\">\n\t\t\t\t\t<!--\t\t\t\t\t<span :class=\"item.icon\"></span>-->\n\t\t\t\t\t<span>{{ item.name }}</span>\n\t\t\t\t</el-menu-item>\n\t\t\t</el-menu>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"rightMenu\",\n\tdata() {\n\t\treturn {}\n\t},\n\tprops: {\n\t\tpos: {\n\t\t\ttype: Object\n\t\t},\n\t\titems: {\n\t\t\ttype: Array\n\t\t}\n\t},\n\tmethods: {\n\t\tclose() {\n\t\t\tthis.$emit(\"close\");\n\t\t},\n\t\tonSelectMenu(item) {\n\t\t\tthis.$emit(\"select\", item);\n\t\t\tthis.close();\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.right-menu-mask {\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 9999;\n}\n\n.right-menu {\n\tposition: fixed;\n\tborder-radius: 8px;\n\toverflow: hidden;\n\tbox-shadow: var(--im-box-shadow-light);\n\n\t.el-menu {\n\t\tborder-radius: 4px;\n\t\toverflow: hidden;\n\n\t\t.el-menu-item {\n\t\t\theight: 36px;\n\t\t\tline-height: 36px;\n\t\t\tmin-width: 100px;\n\t\t\ttext-align: left;\n\t\t\tpadding: 0 0 0 20px;\n\n\t\t\t&:hover {\n\t\t\t\tbackground-color: var(--im-background-active);\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RightMenu.vue?vue&type=template&id=5d68fb58\"\nimport script from \"./RightMenu.vue?vue&type=script&lang=js\"\nexport * from \"./RightMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./RightMenu.vue?vue&type=style&index=0&id=5d68fb58&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"chat-page\"},[_c('el-aside',{staticClass:\"chat-list-box\",attrs:{\"width\":\"260px\"}},[_c('div',{staticClass:\"chat-list-header\"},[_c('el-input',{staticClass:\"search-text\",attrs:{\"size\":\"small\",\"placeholder\":\"搜索\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),(_vm.loading)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"chat-list-loading\",attrs:{\"element-loading-text\":\"消息接收中...\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"#F9F9F9\",\"element-loading-size\":\"24\"}}):_c('el-scrollbar',{staticClass:\"chat-list-items\"},_vm._l((_vm.chatStore.chats),function(chat,index){return _c('div',{key:index},[_c('chat-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(!chat.delete && chat.showName && chat.showName.includes(_vm.searchText)),expression:\"!chat.delete && chat.showName && chat.showName.includes(searchText)\"}],attrs:{\"chat\":chat,\"index\":index,\"active\":chat === _vm.chatStore.activeChat},on:{\"delete\":function($event){return _vm.onDelItem(index)},\"top\":function($event){return _vm.onTop(index)}},nativeOn:{\"click\":function($event){return _vm.onActiveItem(index)}}})],1)}),0)],1),_c('el-container',{staticClass:\"chat-box\"},[(_vm.chatStore.activeChat)?_c('chat-box',{attrs:{\"chat\":_vm.chatStore.activeChat}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-item\",class:_vm.active ? 'active' : '',on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showRightMenu($event)}}},[_c('div',{staticClass:\"chat-left\"},[_c('head-image',{attrs:{\"url\":_vm.chat.headImage,\"name\":_vm.chat.showName,\"size\":42,\"id\":_vm.chat.type == 'PRIVATE' ? _vm.chat.targetId : 0,\"isShowUserInfo\":false}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chat.unreadCount > 0),expression:\"chat.unreadCount > 0\"}],staticClass:\"unread-text\"},[_vm._v(_vm._s(_vm.chat.unreadCount))])],1),_c('div',{staticClass:\"chat-right\"},[_c('div',{staticClass:\"chat-name\"},[_c('div',{staticClass:\"chat-name-text\"},[_c('div',[_vm._v(_vm._s(_vm.chat.showName))]),(_vm.chat.type == 'GROUP')?_c('el-tag',{attrs:{\"size\":\"mini\",\"effect\":\"dark\"}},[_vm._v(\"群\")]):_vm._e()],1),_c('div',{staticClass:\"chat-time-text\"},[_vm._v(_vm._s(_vm.showTime))])]),_c('div',{staticClass:\"chat-content\"},[_c('div',{staticClass:\"chat-at-text\"},[_vm._v(_vm._s(_vm.atText))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSendName),expression:\"isShowSendName\"}],staticClass:\"chat-send-name\"},[_vm._v(_vm._s(_vm.chat.sendNickName + ': '))]),_c('div',{staticClass:\"chat-content-text\",domProps:{\"innerHTML\":_vm._s(_vm.$emo.transform(_vm.chat.lastContent,'emoji-small'))}})])]),_c('right-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightMenu.show),expression:\"rightMenu.show\"}],attrs:{\"pos\":_vm.rightMenu.pos,\"items\":_vm.rightMenu.items},on:{\"close\":function($event){_vm.rightMenu.show = false},\"select\":_vm.onSelectMenu}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"chat-item\" :class=\"active ? 'active' : ''\" @contextmenu.prevent=\"showRightMenu($event)\">\n\t\t<div class=\"chat-left\">\n\t\t\t<head-image :url=\"chat.headImage\" :name=\"chat.showName\" :size=\"42\"\n\t\t\t\t:id=\"chat.type == 'PRIVATE' ? chat.targetId : 0\" :isShowUserInfo=\"false\"></head-image>\n\t\t\t<div v-show=\"chat.unreadCount > 0\" class=\"unread-text\">{{ chat.unreadCount }}</div>\n\t\t</div>\n\t\t<div class=\"chat-right\">\n\t\t\t<div class=\"chat-name\">\n\t\t\t\t<div class=\"chat-name-text\">\n\t\t\t\t\t<div>{{ chat.showName }}</div>\n\t\t\t\t\t<el-tag v-if=\"chat.type == 'GROUP'\" size=\"mini\" effect=\"dark\">群</el-tag>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"chat-time-text\">{{ showTime }}</div>\n\t\t\t</div>\n\t\t\t<div class=\"chat-content\">\n\t\t\t\t<div class=\"chat-at-text\">{{ atText }}</div>\n\t\t\t\t<div class=\"chat-send-name\" v-show=\"isShowSendName\">{{ chat.sendNickName + ':&nbsp;' }}</div>\n\t\t\t\t<div class=\"chat-content-text\" v-html=\"$emo.transform(chat.lastContent,'emoji-small')\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<right-menu v-show=\"rightMenu.show\" :pos=\"rightMenu.pos\" :items=\"rightMenu.items\"\n\t\t\t@close=\"rightMenu.show = false\" @select=\"onSelectMenu\"></right-menu>\n\t</div>\n\n</template>\n\n<script>\nimport HeadImage from '../common/HeadImage.vue';\nimport RightMenu from '../common/RightMenu.vue';\n\nexport default {\n\tname: \"chatItem\",\n\tcomponents: {\n\t\tHeadImage,\n\t\tRightMenu\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trightMenu: {\n\t\t\t\tshow: false,\n\t\t\t\tpos: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\titems: [{\n\t\t\t\t\tkey: 'TOP',\n\t\t\t\t\tname: '置顶',\n\t\t\t\t\ticon: 'el-icon-top'\n\t\t\t\t}, {\n\t\t\t\t\tkey: 'DELETE',\n\t\t\t\t\tname: '删除',\n\t\t\t\t\ticon: 'el-icon-delete'\n\t\t\t\t}]\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\tchat: {\n\t\t\ttype: Object\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tindex: {\n\t\t\ttype: Number\n\t\t}\n\t},\n\tmethods: {\n\t\tshowRightMenu(e) {\n\t\t\tthis.rightMenu.pos = {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y\n\t\t\t};\n\t\t\tthis.rightMenu.show = \"true\";\n\t\t},\n\t\tonSelectMenu(item) {\n\t\t\tthis.$emit(item.key.toLowerCase(), this.msgInfo);\n\t\t}\n\t},\n\tcomputed: {\n\t\tisShowSendName() {\n\t\t\tif (!this.chat.sendNickName) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet size = this.chat.messages.length;\n\t\t\tif (size == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// 只有群聊的普通消息需要显示名称\n\t\t\tlet lastMsg = this.chat.messages[size - 1];\n\t\t\treturn this.$msgType.isNormal(lastMsg.type)\n\t\t},\n\t\tshowTime() {\n\t\t\treturn this.$date.toTimeText(this.chat.lastSendTime, true)\n\t\t},\n\t\tatText() {\n\t\t\tif (this.chat.atMe) {\n\t\t\t\treturn \"[有人@我]\"\n\t\t\t} else if (this.chat.atAll) {\n\t\t\t\treturn \"[@全体成员]\"\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-item {\n\theight: 50px;\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 5px 10px;\n\talign-items: center;\n\tbackground-color: var(--im-background);\n\twhite-space: nowrap;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground-color: var(--im-background-active);\n\t}\n\n\t&.active {\n\t\tbackground-color: var(--im-background-active-dark);\n\t}\n\n\t.chat-left {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\n\t\t.unread-text {\n\t\t\tposition: absolute;\n\t\t\tbackground-color: #f56c6c;\n\t\t\tright: -4px;\n\t\t\ttop: -8px;\n\t\t\tcolor: white;\n\t\t\tborder-radius: 30px;\n\t\t\tpadding: 1px 5px;\n\t\t\tfont-size: 10px;\n\t\t\ttext-align: center;\n\t\t\twhite-space: nowrap;\n\t\t\tborder: 1px solid #f1e5e5;\n\t\t}\n\t}\n\n\n\t.chat-right {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding-left: 10px;\n\t\ttext-align: left;\n\t\toverflow: hidden;\n\n\t\t.chat-name {\n\t\t\tdisplay: flex;\n\t\t\tline-height: 20px;\n\t\t\theight: 20px;\n\n\t\t\t.chat-name-text {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-size: var(--im-font-size);\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t.el-tag {\n\t\t\t\t\tmin-width: 22px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #2830d3;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\tborder: 0;\n\t\t\t\t\theight: 16px;\n\t\t\t\t\tline-height: 16px;\n\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\tmargin-left: 2px;\n\t\t\t\t\topacity: 0.8;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.chat-time-text {\n\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t\ttext-align: right;\n\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\tpadding-left: 10px;\n\t\t\t}\n\t\t}\n\n\t\t.chat-content {\n\t\t\tdisplay: flex;\n\t\t\tline-height: 22px;\n\n\t\t\t.chat-at-text {\n\t\t\t\tcolor: #c70b0b;\n\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t}\n\n\t\t\t.chat-send-name {\n\t\t\t\tfont-size: var(--im-font-size-small);\n\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t}\n\n\n\t\t\t.chat-content-text {\n\t\t\t\tflex: 1;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tfont-size: var(--im-font-size-small);\n\t\t\t\tcolor: var(--im-text-color-light);\n\n\t\t\t}\n\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatItem.vue?vue&type=template&id=67cc68d2\"\nimport script from \"./ChatItem.vue?vue&type=script&lang=js\"\nexport * from \"./ChatItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatItem.vue?vue&type=style&index=0&id=67cc68d2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-box\",on:{\"click\":function($event){return _vm.closeRefBox()},\"mousemove\":function($event){return _vm.readedMessage()}}},[_c('el-container',[_c('el-header',{attrs:{\"height\":\"50px\"}},[_c('span',[_vm._v(_vm._s(_vm.title))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.chat.type == 'GROUP'),expression:\"this.chat.type == 'GROUP'\"}],staticClass:\"btn-side el-icon-more\",attrs:{\"title\":\"群聊信息\"},on:{\"click\":function($event){_vm.showSide = !_vm.showSide}}})]),_c('el-main',{staticStyle:{\"padding\":\"0\"}},[_c('el-container',[_c('el-container',{staticClass:\"content-box\"},[_c('el-main',{staticClass:\"im-chat-main\",attrs:{\"id\":\"chatScrollBox\"},on:{\"scroll\":_vm.onScroll}},[_c('div',{staticClass:\"im-chat-box\"},[_c('ul',_vm._l((_vm.chat.messages),function(msgInfo,idx){return _c('li',{key:idx},[(idx >= _vm.showMinIdx)?_c('chat-message-item',{attrs:{\"mine\":msgInfo.sendId == _vm.mine.id,\"headImage\":_vm.headImage(msgInfo),\"showName\":_vm.showName(msgInfo),\"msgInfo\":msgInfo,\"groupMembers\":_vm.groupMembers},on:{\"call\":function($event){return _vm.onCall(msgInfo.type)},\"delete\":_vm.deleteMessage,\"recall\":_vm.recallMessage}}):_vm._e()],1)}),0)])]),_c('el-footer',{staticClass:\"im-chat-footer\",attrs:{\"height\":\"220px\"}},[_c('div',{staticClass:\"chat-tool-bar\"},[_c('div',{ref:\"emotion\",staticClass:\"icon iconfont icon-emoji\",attrs:{\"title\":\"表情\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showEmotionBox()}}}),_c('div',{attrs:{\"title\":\"发送图片\"}},[_c('file-upload',{attrs:{\"action\":'/image/upload',\"maxSize\":5 * 1024 * 1024,\"fileTypes\":['image/jpeg', 'image/png', 'image/jpg', 'image/webp', 'image/gif']},on:{\"before\":_vm.onImageBefore,\"success\":_vm.onImageSuccess,\"fail\":_vm.onImageFail}},[_c('i',{staticClass:\"el-icon-picture-outline\"})])],1),_c('div',{attrs:{\"title\":\"发送文件\"}},[_c('file-upload',{ref:\"fileUpload\",attrs:{\"action\":'/file/upload',\"maxSize\":10 * 1024 * 1024},on:{\"before\":_vm.onFileBefore,\"success\":_vm.onFileSuccess,\"fail\":_vm.onFileFail}},[_c('i',{staticClass:\"el-icon-wallet\"})])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chat.type == 'GROUP' && _vm.memberSize <= 500),expression:\"chat.type == 'GROUP' && memberSize <= 500\"}],staticClass:\"icon iconfont icon-receipt\",class:_vm.isReceipt ? 'chat-tool-active' : '',attrs:{\"title\":\"回执消息\"},on:{\"click\":_vm.onSwitchReceipt}}),_c('div',{staticClass:\"el-icon-microphone\",attrs:{\"title\":\"发送语音\"},on:{\"click\":function($event){return _vm.showRecordBox()}}}),_c('div',{staticClass:\"el-icon-chat-dot-round\",attrs:{\"title\":\"聊天记录\"},on:{\"click\":function($event){return _vm.showHistoryBox()}}})]),_c('div',{staticClass:\"send-content-area\"},[_c('ChatInput',{ref:\"chatInputEditor\",attrs:{\"ownerId\":_vm.group.ownerId,\"group-members\":_vm.groupMembers},on:{\"submit\":_vm.sendMessage}}),_c('div',{staticClass:\"send-btn-area\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-s-promotion\"},on:{\"click\":function($event){return _vm.notifySend()}}},[_vm._v(\"发送\")])],1)],1)])],1),(_vm.showSide)?_c('el-aside',{staticClass:\"chat-group-side-box\",attrs:{\"width\":\"320px\"}},[_c('chat-group-side',{attrs:{\"group\":_vm.group,\"groupMembers\":_vm.groupMembers},on:{\"reload\":function($event){return _vm.loadGroup(_vm.group.id)}}})],1):_vm._e()],1)],1),_c('emotion',{ref:\"emoBox\",on:{\"emotion\":_vm.onEmotion}}),_c('chat-record',{attrs:{\"visible\":_vm.showRecord},on:{\"close\":_vm.closeRecordBox,\"send\":_vm.onSendRecord}}),_c('chat-history',{attrs:{\"visible\":_vm.showHistory,\"chat\":_vm.chat,\"friend\":_vm.friend,\"group\":_vm.group,\"groupMembers\":_vm.groupMembers},on:{\"close\":_vm.closeHistoryBox}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-group-side\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.group.quit),expression:\"!group.quit\"}],staticClass:\"group-side-search\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索群成员\",\"size\":\"small\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('div',{staticClass:\"group-side-scrollbar\"},[_c('el-scrollbar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.group.quit),expression:\"!group.quit\"}],ref:\"scrollbar\",style:('height: ' + _vm.scrollHeight + 'px')},[_c('div',{staticClass:\"group-side-member-list\"},[_c('div',{staticClass:\"group-side-invite\"},[_c('div',{staticClass:\"invite-member-btn\",attrs:{\"title\":\"邀请好友进群聊\"},on:{\"click\":function($event){_vm.showAddGroupMember = true}}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('div',{staticClass:\"invite-member-text\"},[_vm._v(\"邀请\")]),_c('add-group-member',{attrs:{\"visible\":_vm.showAddGroupMember,\"groupId\":_vm.group.id,\"members\":_vm.groupMembers},on:{\"reload\":function($event){return _vm.$emit('reload')},\"close\":function($event){_vm.showAddGroupMember = false}}})],1),_vm._l((_vm.showMembers),function(member,idx){return _c('div',{key:member.id},[(idx < _vm.showMaxIdx)?_c('group-member',{staticClass:\"group-side-member\",attrs:{\"member\":member,\"showDel\":false}}):_vm._e()],1)})],2)]),(!_vm.group.quit)?_c('el-divider',{attrs:{\"content-position\":\"center\"}}):_vm._e(),_c('el-form',{staticClass:\"group-side-form\",attrs:{\"labelPosition\":\"top\",\"model\":_vm.group,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"群聊名称\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"maxlength\":\"20\"},model:{value:(_vm.group.name),callback:function ($$v) {_vm.$set(_vm.group, \"name\", $$v)},expression:\"group.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"群主\"}},[_c('el-input',{attrs:{\"value\":_vm.ownerName,\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"群公告\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"type\":\"textarea\",\"maxlength\":\"1024\"},model:{value:(_vm.group.notice),callback:function ($$v) {_vm.$set(_vm.group, \"notice\", $$v)},expression:\"group.notice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.editing,\"maxlength\":\"20\"},model:{value:(_vm.group.remarkGroupName),callback:function ($$v) {_vm.$set(_vm.group, \"remarkGroupName\", $$v)},expression:\"group.remarkGroupName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"我在本群的昵称\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.editing,\"maxlength\":\"20\"},model:{value:(_vm.group.remarkNickName),callback:function ($$v) {_vm.$set(_vm.group, \"remarkNickName\", $$v)},expression:\"group.remarkNickName\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.group.quit),expression:\"!group.quit\"}],staticClass:\"btn-group\"},[(_vm.editing)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.onSaveGroup()}}},[_vm._v(\"保存\")]):_vm._e(),(!_vm.editing)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editing = !_vm.editing}}},[_vm._v(\"编辑\")]):_vm._e(),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOwner),expression:\"!isOwner\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onQuit()}}},[_vm._v(\"退出群聊\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"chat-group-side\">\n    <div v-show=\"!group.quit\" class=\"group-side-search\">\n      <el-input placeholder=\"搜索群成员\" v-model=\"searchText\" size=\"small\">\n        <i class=\"el-icon-search el-input__icon\" slot=\"prefix\"> </i>\n      </el-input>\n    </div>\n    <div class=\"group-side-scrollbar\">\n      <el-scrollbar v-show=\"!group.quit\" ref=\"scrollbar\" :style=\"'height: ' + scrollHeight + 'px'\">\n        <div class=\"group-side-member-list\">\n          <div class=\"group-side-invite\">\n            <div class=\"invite-member-btn\" title=\"邀请好友进群聊\" @click=\"showAddGroupMember = true\">\n              <i class=\"el-icon-plus\"></i>\n            </div>\n            <div class=\"invite-member-text\">邀请</div>\n            <add-group-member :visible=\"showAddGroupMember\" :groupId=\"group.id\" :members=\"groupMembers\"\n              @reload=\"$emit('reload')\" @close=\"showAddGroupMember = false\"></add-group-member>\n          </div>\n          <div v-for=\"(member, idx) in showMembers\" :key=\"member.id\">\n            <group-member v-if=\"idx < showMaxIdx\" class=\"group-side-member\" :member=\"member\"\n              :showDel=\"false\"></group-member>\n          </div>\n        </div>\n      </el-scrollbar>\n      <el-divider v-if=\"!group.quit\" content-position=\"center\"></el-divider>\n      <el-form labelPosition=\"top\" class=\"group-side-form\" :model=\"group\" size=\"small\">\n        <el-form-item label=\"群聊名称\">\n          <el-input v-model=\"group.name\" disabled maxlength=\"20\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"群主\">\n          <el-input :value=\"ownerName\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"群公告\">\n          <el-input v-model=\"group.notice\" disabled type=\"textarea\" maxlength=\"1024\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"group.remarkGroupName\" :disabled=\"!editing\" maxlength=\"20\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"我在本群的昵称\">\n          <el-input v-model=\"group.remarkNickName\" :disabled=\"!editing\" maxlength=\"20\"></el-input>\n        </el-form-item>\n        <div v-show=\"!group.quit\" class=\"btn-group\">\n          <el-button v-if=\"editing\" type=\"success\" @click=\"onSaveGroup()\">保存</el-button>\n          <el-button v-if=\"!editing\" type=\"primary\" @click=\"editing = !editing\">编辑</el-button>\n          <el-button type=\"danger\" v-show=\"!isOwner\" @click=\"onQuit()\">退出群聊</el-button>\n        </div>\n      </el-form>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport AddGroupMember from '../group/AddGroupMember.vue';\nimport GroupMember from '../group/GroupMember.vue';\n\nexport default {\n  name: \"chatGroupSide\",\n  components: {\n    AddGroupMember,\n    GroupMember\n  },\n  data() {\n    return {\n      searchText: \"\",\n      editing: false,\n      showAddGroupMember: false,\n      showMaxIdx: 50\n    }\n  },\n  props: {\n    group: {\n      type: Object\n    },\n    groupMembers: {\n      type: Array\n    }\n  },\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    loadGroupMembers() {\n      this.$http({\n        url: `/group/members/${this.group.id}`,\n        method: \"get\"\n      }).then((members) => {\n        this.groupMembers = members;\n      })\n    },\n    onSaveGroup() {\n      let vo = this.group;\n      this.$http({\n        url: \"/group/modify\",\n        method: \"put\",\n        data: vo\n      }).then((group) => {\n        this.editing = !this.editing\n        this.$store.commit(\"updateGroup\", group);\n        this.$emit('reload');\n        this.$message.success(\"修改成功\");\n      })\n    },\n    onQuit() {\n      this.$confirm('退出群聊后将不再接受群里的消息，确认退出吗？', '确认退出?', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http({\n          url: `/group/quit/${this.group.id}`,\n          method: 'delete'\n        }).then(() => {\n          this.$store.commit(\"removeGroup\", this.group.id);\n          this.$store.commit(\"removeGroupChat\", this.group.id);\n        });\n      })\n    },\n    onScroll(e) {\n      const scrollbar = e.target;\n      // 滚到底部\n      if (scrollbar.scrollTop + scrollbar.clientHeight >= scrollbar.scrollHeight - 30) {\n        if (this.showMaxIdx < this.showMembers.length) {\n          this.showMaxIdx += 30;\n        }\n      }\n    }\n  },\n  computed: {\n    ownerName() {\n      let member = this.groupMembers.find((m) => m.userId == this.group.ownerId);\n      return member && member.showNickName;\n    },\n    isOwner() {\n      return this.group.ownerId == this.$store.state.userStore.userInfo.id;\n    },\n    showMembers() {\n      return this.groupMembers.filter((m) => !m.quit && m.showNickName.includes(this.searchText))\n    },\n    scrollHeight() {\n      return Math.min(400, 80 + this.showMembers.length / 5 * 80);\n    }\n  },\n  mounted() {\n    let scrollWrap = this.$refs.scrollbar.$el.querySelector('.el-scrollbar__wrap');\n    scrollWrap.addEventListener('scroll', this.onScroll);\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.chat-group-side {\n  position: relative;\n\n  .group-side-search {\n    padding: 10px;\n  }\n\n  .group-side-scrollbar {\n    overflow: auto;\n  }\n\n  .el-divider--horizontal {\n    margin: 0;\n  }\n\n  .el-form-item {\n    margin-bottom: 0px !important;\n  }\n\n  .group-side-member-list {\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    font-size: 14px;\n    text-align: center;\n\n    .group-side-member {\n      margin-left: 5px;\n    }\n\n    .group-side-invite {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      width: 50px;\n      margin-left: 5px;\n\n      .invite-member-btn {\n        width: 38px;\n        height: 38px;\n        line-height: 38px;\n        border: var(--im-border);\n        font-size: 14px;\n        cursor: pointer;\n        box-sizing: border-box;\n\n        &:hover {\n          border: #aaaaaa solid 1px;\n        }\n      }\n\n      .invite-member-text {\n        font-size: 12px;\n        text-align: center;\n        width: 100%;\n        height: 30px;\n        line-height: 30px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden\n      }\n    }\n  }\n\n  .group-side-form {\n    text-align: left;\n    padding: 10px;\n    height: 30%;\n\n    .el-form-item {\n      margin-bottom: 12px;\n\n      .el-form-item__label {\n        padding: 0;\n        line-height: 30px;\n      }\n\n      .el-textarea__inner {\n        min-height: 100px !important;\n      }\n    }\n\n    .el-input__inner,\n    .el-textarea__inner {\n      color: var(--im-text-color) !important;\n    }\n\n\n    .btn-group {\n      text-align: center;\n      margin-top: 12px;\n    }\n  }\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupSide.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupSide.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatGroupSide.vue?vue&type=template&id=5fd699d4\"\nimport script from \"./ChatGroupSide.vue?vue&type=script&lang=js\"\nexport * from \"./ChatGroupSide.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatGroupSide.vue?vue&type=style&index=0&id=5fd699d4&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-msg-item\"},[(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.TIP_TEXT)?_c('div',{staticClass:\"chat-msg-tip\"},[_vm._v(\" \"+_vm._s(_vm.msgInfo.content)+\" \")]):(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.TIP_TIME)?_c('div',{staticClass:\"chat-msg-tip\"},[_vm._v(\" \"+_vm._s(_vm.$date.toTimeText(_vm.msgInfo.sendTime))+\" \")]):(_vm.isNormal)?_c('div',{staticClass:\"chat-msg-normal\",class:{ 'chat-msg-mine': _vm.mine }},[_c('div',{staticClass:\"head-image\"},[_c('head-image',{attrs:{\"name\":_vm.showName,\"size\":38,\"url\":_vm.headImage,\"id\":_vm.msgInfo.sendId}})],1),_c('div',{staticClass:\"chat-msg-content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode == 1 && _vm.msgInfo.groupId && !_vm.msgInfo.selfSend),expression:\"mode == 1 && msgInfo.groupId && !msgInfo.selfSend\"}],staticClass:\"chat-msg-top\"},[_c('span',[_vm._v(_vm._s(_vm.showName))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode == 2),expression:\"mode == 2\"}],staticClass:\"chat-msg-top\"},[_c('span',[_vm._v(_vm._s(_vm.showName))]),_c('span',[_vm._v(_vm._s(_vm.$date.toTimeText(_vm.msgInfo.sendTime)))])]),_c('div',{staticClass:\"chat-msg-bottom\",on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showRightMenu($event)}}},[_c('div',{ref:\"chatMsgBox\"},[(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.TEXT || _vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.SENTEXT)?_c('span',{staticClass:\"chat-msg-text\",domProps:{\"innerHTML\":_vm._s(_vm.htmlText)}}):_vm._e(),(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.IMAGE)?_c('div',{staticClass:\"chat-msg-image\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"img-load-box\",attrs:{\"element-loading-text\":\"上传中..\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\"}},[_c('img',{staticClass:\"send-image\",attrs:{\"src\":JSON.parse(_vm.msgInfo.content).thumbUrl,\"loading\":\"lazy\"},on:{\"click\":function($event){return _vm.showFullImageBox()}}})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadFail),expression:\"loadFail\"}],staticClass:\"send-fail el-icon-warning\",attrs:{\"title\":\"发送失败\"},on:{\"click\":_vm.onSendFail}})]):_vm._e(),(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.FILE)?_c('div',{staticClass:\"chat-msg-file\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"chat-file-box\"},[_c('div',{staticClass:\"chat-file-info\"},[_c('el-link',{staticClass:\"chat-file-name\",attrs:{\"underline\":true,\"target\":\"_blank\",\"type\":\"primary\",\"href\":_vm.data.url,\"download\":_vm.data.name}},[_vm._v(_vm._s(_vm.data.name))]),_c('div',{staticClass:\"chat-file-size\"},[_vm._v(_vm._s(_vm.fileSize))])],1),_vm._m(0)]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadFail),expression:\"loadFail\"}],staticClass:\"send-fail el-icon-warning\",attrs:{\"title\":\"发送失败\"},on:{\"click\":_vm.onSendFail}})]):_vm._e()]),(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.AUDIO)?_c('div',{staticClass:\"chat-msg-voice\",on:{\"click\":function($event){return _vm.onPlayVoice()}}},[_c('audio',{attrs:{\"controls\":\"\",\"src\":JSON.parse(_vm.msgInfo.content).url}})]):_vm._e(),(_vm.isAction)?_c('div',{staticClass:\"chat-action chat-msg-text\"},[(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.ACT_RT_VOICE)?_c('span',{staticClass:\"iconfont icon-chat-voice\",attrs:{\"title\":\"重新呼叫\"},on:{\"click\":function($event){return _vm.$emit('call')}}}):_vm._e(),(_vm.msgInfo.type == _vm.$enums.MESSAGE_TYPE.ACT_RT_VIDEO)?_c('span',{staticClass:\"iconfont icon-chat-video\",attrs:{\"title\":\"重新呼叫\"},on:{\"click\":function($event){return _vm.$emit('call')}}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.msgInfo.content))])]):_vm._e(),(!_vm.isAction)?_c('div',{staticClass:\"chat-msg-status\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msgInfo.selfSend && !_vm.msgInfo.groupId\n\t\t\t\t\t\t&& _vm.msgInfo.status == _vm.$enums.MESSAGE_STATUS.READED),expression:\"msgInfo.selfSend && !msgInfo.groupId\\n\\t\\t\\t\\t\\t\\t&& msgInfo.status == $enums.MESSAGE_STATUS.READED\"}],staticClass:\"chat-readed\"},[_vm._v(\"已读\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msgInfo.selfSend && !_vm.msgInfo.groupId\n\t\t\t\t\t\t&& _vm.msgInfo.status != _vm.$enums.MESSAGE_STATUS.READED),expression:\"msgInfo.selfSend && !msgInfo.groupId\\n\\t\\t\\t\\t\\t\\t&& msgInfo.status != $enums.MESSAGE_STATUS.READED\"}],staticClass:\"chat-unread\"},[_vm._v(\"未读\")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msgInfo.receipt),expression:\"msgInfo.receipt\"}],staticClass:\"chat-receipt\",on:{\"click\":_vm.onShowReadedBox}},[(_vm.msgInfo.receiptOk)?_c('span',{staticClass:\"icon iconfont icon-ok\",attrs:{\"title\":\"全体已读\"}}):_c('span',[_vm._v(_vm._s(_vm.msgInfo.readedCount)+\"人已读\")])])])])]):_vm._e(),_c('right-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu && _vm.rightMenu.show),expression:\"menu && rightMenu.show\"}],attrs:{\"pos\":_vm.rightMenu.pos,\"items\":_vm.menuItems},on:{\"close\":function($event){_vm.rightMenu.show = false},\"select\":_vm.onSelectMenu}}),_c('chat-group-readed',{ref:\"chatGroupReadedBox\",attrs:{\"msgInfo\":_vm.msgInfo,\"groupMembers\":_vm.groupMembers}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-file-icon\"},[_c('span',{staticClass:\"el-icon-document\",attrs:{\"type\":\"primary\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_c('div',{staticClass:\"chat-group-readed-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.close()}}},[_c('div',{staticClass:\"chat-group-readed\",style:({ 'left': _vm.pos.x + 'px', 'top': _vm.pos.y + 'px' }),on:{\"click\":function($event){$event.preventDefault();}}},[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"stretch\":true}},[_c('el-tab-pane',{attrs:{\"label\":`已读(${_vm.readedMembers.length})`}},[_c('virtual-scroller',{staticClass:\"scroll-box\",attrs:{\"items\":_vm.readedMembers},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('chat-group-member',{attrs:{\"member\":item}})]}}])})],1),_c('el-tab-pane',{attrs:{\"label\":`未读(${_vm.unreadMembers.length})`}},[_c('virtual-scroller',{staticClass:\"scroll-box\",attrs:{\"items\":_vm.unreadMembers},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('chat-group-member',{attrs:{\"member\":item}})]}}])})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msgInfo.selfSend),expression:\"msgInfo.selfSend\"}],staticClass:\"arrow-right\",style:({ 'top': _vm.pos.arrowY + 'px' })},[_c('div',{staticClass:\"arrow-right-inner\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.msgInfo.selfSend),expression:\"!msgInfo.selfSend\"}],staticClass:\"arrow-left\",style:({ 'top': _vm.pos.arrowY + 'px' })},[_c('div',{staticClass:\"arrow-left-inner\"})])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-scrollbar',{ref:\"scrollbar\"},_vm._l((_vm.items),function(item,idx){return _c('div',{key:idx},[( idx < _vm.showMaxIdx)?_vm._t(\"default\",null,{\"item\":item}):_vm._e()],2)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-scrollbar ref=\"scrollbar\">\n        <div v-for=\"(item, idx) in items\" :key=\"idx\">\n            <slot :item=\"item\" v-if=\" idx < showMaxIdx\">\n            </slot>\n        </div>\n    </el-scrollbar>\n</template>\n\n<script>\nexport default {\n    name: \"virtualScroller\",\n    data() {\n        return {\n            page: 1,\n            isInitEvent: false,\n            lockTip: false\n        }\n    },\n    props: {\n        items: {\n            type: Array\n        },\n        size: {\n            type: Number,\n            default: 30\n        }\n    },\n    methods: {\n        init() {\n            this.page = 1;\n            this.initEvent();\n        },\n        initEvent() {\n            if (!this.isInitEvent) {\n                let scrollWrap = this.$refs.scrollbar.$el.querySelector('.el-scrollbar__wrap');\n                scrollWrap.addEventListener('scroll', this.onScroll);\n                this.isInitEvent = true;\n            }\n        },\n        onScroll(e) {\n            const scrollbar = e.target;\n            // 滚到底部\n            if (scrollbar.scrollTop + scrollbar.clientHeight >= scrollbar.scrollHeight - 30) {\n                if(this.showMaxIdx >= this.items.length ){\n                    this.showTip();\n                }else{\n                    this.page++;\n                }\n            }\n        },\n        showTip(){\n            // 提示限制最多3秒显示一次\n            if(!this.lockTip){\n                this.$message.success(\"已到滚动到底部\")\n                this.lockTip = true;\n                setTimeout(()=>{\n                    this.lockTip = false;\n                },3000)\n            }\n        }\n    },\n    computed: {\n        showMaxIdx() {\n            return Math.min(this.page * this.size, this.items.length);\n        }\n    },\n    mounted(){\n        this.initEvent();\n    }\n}\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualScroller.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualScroller.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VirtualScroller.vue?vue&type=template&id=821ed2d2&scoped=true\"\nimport script from \"./VirtualScroller.vue?vue&type=script&lang=js\"\nexport * from \"./VirtualScroller.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"821ed2d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-group-member\",class:_vm.active ? 'active' : '',style:({ 'height': _vm.height + 'px' })},[_c('div',{staticClass:\"member-avatar\"},[_c('head-image',{attrs:{\"size\":_vm.headImageSize,\"name\":_vm.member.showNickName,\"url\":_vm.member.headImage}})],1),_c('div',{staticClass:\"member-name\",style:({ 'line-height': _vm.height + 'px' })},[_c('div',[_vm._v(_vm._s(_vm.member.showNickName))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"chat-group-member\" :class=\"active ? 'active' : ''\" :style=\"{ 'height': height + 'px' }\">\n        <div class=\"member-avatar\">\n            <head-image :size=\"headImageSize\" :name=\"member.showNickName\" :url=\"member.headImage\"> </head-image>\n        </div>\n        <div class=\"member-name\" :style=\"{ 'line-height': height + 'px' }\">\n            <div>{{ member.showNickName }}</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport HeadImage from \"../common/HeadImage.vue\";\nexport default {\n    name: \"groupMember\",\n    components: { HeadImage },\n    data() {\n        return {};\n    },\n    props: {\n        member: {\n            type: Object,\n            required: true\n        },\n        height: {\n            type: Number,\n            default: 50\n        },\n        active: {\n            type: Boolean,\n            default: false\n        }\n    },\n    computed: {\n        headImageSize() {\n            return Math.ceil(this.height * 0.75)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.chat-group-member {\n    display: flex;\n    position: relative;\n    padding: 0 5px;\n    align-items: center;\n    white-space: nowrap;\n    box-sizing: border-box;\n\n    .member-name {\n        padding-left: 10px;\n        height: 100%;\n        text-align: left;\n        white-space: nowrap;\n        overflow: hidden;\n        font-size: var(--im-font-size);\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupMember.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupMember.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatGroupMember.vue?vue&type=template&id=29290a86\"\nimport script from \"./ChatGroupMember.vue?vue&type=script&lang=js\"\nexport * from \"./ChatGroupMember.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatGroupMember.vue?vue&type=style&index=0&id=29290a86&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div v-show=\"show\">\n\t\t<div class=\"chat-group-readed-mask\" @click.self=\"close()\">\n\t\t\t<div class=\"chat-group-readed\" :style=\"{ 'left': pos.x + 'px', 'top': pos.y + 'px' }\" @click.prevent=\"\">\n\t\t\t\t<el-tabs type=\"border-card\" :stretch=\"true\">\n\t\t\t\t\t<el-tab-pane :label=\"`已读(${readedMembers.length})`\">\n\t\t\t\t\t\t<virtual-scroller class=\"scroll-box\" :items=\"readedMembers\">\n\t\t\t\t\t\t\t<template v-slot=\"{ item }\">\n\t\t\t\t\t\t\t\t<chat-group-member :member=\"item\"></chat-group-member>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</virtual-scroller>\n\t\t\t\t\t</el-tab-pane>\n\t\t\t\t\t<el-tab-pane :label=\"`未读(${unreadMembers.length})`\">\n\t\t\t\t\t\t<virtual-scroller class=\"scroll-box\" :items=\"unreadMembers\">\n\t\t\t\t\t\t\t<template v-slot=\"{ item }\">\n\t\t\t\t\t\t\t\t<chat-group-member :member=\"item\"></chat-group-member>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</virtual-scroller>\n\t\t\t\t\t</el-tab-pane>\n\t\t\t\t</el-tabs>\n\t\t\t\t<div v-show=\"msgInfo.selfSend\" class=\"arrow-right\" :style=\"{ 'top': pos.arrowY + 'px' }\">\n\t\t\t\t\t<div class=\"arrow-right-inner\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show=\"!msgInfo.selfSend\" class=\"arrow-left\" :style=\"{ 'top': pos.arrowY + 'px' }\">\n\t\t\t\t\t<div class=\"arrow-left-inner\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n</template>\n\n\n<script>\nimport VirtualScroller from '../common/VirtualScroller.vue';\nimport ChatGroupMember from \"./ChatGroupMember.vue\";\n\nexport default {\n\tname: \"chatGroupReaded\",\n\tcomponents: {\n\t\tChatGroupMember, VirtualScroller\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: false,\n\t\t\tpos: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tarrowY: 0\n\t\t\t},\n\t\t\treadedMembers: [],\n\t\t\tunreadMembers: []\n\t\t}\n\t},\n\tprops: {\n\t\tgroupMembers: {\n\t\t\ttype: Array\n\t\t},\n\t\tmsgInfo: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tmethods: {\n\t\tclose() {\n\t\t\tthis.show = false;\n\t\t},\n\t\topen(rect) {\n\t\t\tthis.show = true;\n\t\t\tthis.pos.arrowY = 200;\n\t\t\t// 计算窗口位置\n\t\t\tif (this.msgInfo.selfSend) {\n\t\t\t\t// 自己发的消息弹出在消息的左边\n\t\t\t\tthis.pos.x = rect.left - 310;\n\t\t\t} else {\n\t\t\t\t// 别人发的消息弹窗在消息右边\n\t\t\t\tthis.pos.x = rect.right + 20;\n\t\t\t}\n\t\t\tthis.pos.y = rect.top + rect.height / 2 - 215;\n\t\t\t// 防止窗口溢出\n\t\t\tif (this.pos.y < 0) {\n\t\t\t\tthis.pos.arrowY += this.pos.y\n\t\t\t\tthis.pos.y = 0;\n\t\t\t}\n\t\t\tthis.loadReadedUser()\n\t\t},\n\t\tloadReadedUser() {\n\t\t\tthis.readedMembers = [];\n\t\t\tthis.unreadMembers = [];\n\t\t\tthis.$http({\n\t\t\t\turl: \"/message/group/findReadedUsers\",\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: { groupId: this.msgInfo.groupId, messageId: this.msgInfo.id }\n\t\t\t}).then(userIds => {\n\t\t\t\tthis.groupMembers.forEach(member => {\n\t\t\t\t\t// 发送者和已退群的不显示\n\t\t\t\t\tif (member.userId == this.msgInfo.sendId || member.quit) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// 区分已读还是未读\n\t\t\t\t\tif (userIds.find(userId => member.userId == userId)) {\n\t\t\t\t\t\tthis.readedMembers.push(member);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.unreadMembers.push(member);\n\t\t\t\t\t}\n\t\t\t\t})\n                // 更新已读人数\n                let msgInfo = {\n                    id: this.msgInfo.id,\n                    groupId: this.msgInfo.groupId,\n                    readedCount: this.readedMembers.length\n                }\n                let chatInfo = {\n                    type: 'GROUP',\n                    targetId: this.msgInfo.groupId\n                }\n                this.$store.commit(\"updateMessage\", [msgInfo, chatInfo])\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-group-readed-mask {\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 9999;\n}\n\n.chat-group-readed {\n\tposition: fixed;\n\twidth: 300px;\n\n\t.scroll-box {\n\t\theight: 400px;\n\t}\n\n\t.arrow-left {\n\t\tposition: absolute;\n\t\tleft: -15px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-top: 15px solid transparent;\n\t\tborder-bottom: 15px solid transparent;\n\t\tborder-right: 15px solid #ccc;\n\n\t\t.arrow-left-inner {\n\t\t\tposition: absolute;\n\t\t\ttop: -12px;\n\t\t\tleft: 3px;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\toverflow: hidden;\n\t\t\tborder-top: 12px solid transparent;\n\t\t\tborder-bottom: 12px solid transparent;\n\t\t\tborder-right: 12px solid white;\n\t\t}\n\t}\n\n\t.arrow-right {\n\t\tposition: absolute;\n\t\tright: -15px;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-top: 15px solid transparent;\n\t\tborder-bottom: 15px solid transparent;\n\t\tborder-left: 15px solid #ccc;\n\n\t\t.arrow-right-inner {\n\t\t\tposition: absolute;\n\t\t\ttop: -12px;\n\t\t\tright: 3px;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\toverflow: hidden;\n\t\t\tborder-top: 12px solid transparent;\n\t\t\tborder-bottom: 12px solid transparent;\n\t\t\tborder-left: 12px solid white;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupReaded.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupReaded.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatGroupReaded.vue?vue&type=template&id=2a8e1ca5\"\nimport script from \"./ChatGroupReaded.vue?vue&type=script&lang=js\"\nexport * from \"./ChatGroupReaded.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatGroupReaded.vue?vue&type=style&index=0&id=2a8e1ca5&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"chat-msg-item\">\n\t\t<div class=\"chat-msg-tip\"\n\t\t\tv-if=\"msgInfo.type == $enums.MESSAGE_TYPE.TIP_TEXT\">\n\t\t\t{{ msgInfo.content }}\n\t\t</div>\n\t\t<div class=\"chat-msg-tip\" v-else-if=\"msgInfo.type == $enums.MESSAGE_TYPE.TIP_TIME\">\n\t\t\t{{ $date.toTimeText(msgInfo.sendTime) }}\n\t\t</div>\n\t\t<div class=\"chat-msg-normal\" v-else-if=\"isNormal\" :class=\"{ 'chat-msg-mine': mine }\">\n\t\t\t<div class=\"head-image\">\n\t\t\t\t<head-image :name=\"showName\" :size=\"38\" :url=\"headImage\" :id=\"msgInfo.sendId\"></head-image>\n\t\t\t</div>\n\t\t\t<div class=\"chat-msg-content\">\n\t\t\t\t<div v-show=\"mode == 1 && msgInfo.groupId && !msgInfo.selfSend\" class=\"chat-msg-top\">\n\t\t\t\t\t<span>{{ showName }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-show=\"mode == 2\" class=\"chat-msg-top\">\n\t\t\t\t\t<span>{{ showName }}</span>\n\t\t\t\t\t<span>{{ $date.toTimeText(msgInfo.sendTime) }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"chat-msg-bottom\" @contextmenu.prevent=\"showRightMenu($event)\">\n\t\t\t\t\t<div ref=\"chatMsgBox\">\n\t\t\t\t\t\t<span class=\"chat-msg-text\" v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.TEXT || msgInfo.type == $enums.MESSAGE_TYPE.SENTEXT\"\n\t\t\t\t\t\t\tv-html=\"htmlText\"></span>\n\t\t\t\t\t\t<div class=\"chat-msg-image\" v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.IMAGE\">\n\t\t\t\t\t\t\t<div class=\"img-load-box\" v-loading=\"loading\" element-loading-text=\"上传中..\"\n\t\t\t\t\t\t\t\telement-loading-background=\"rgba(0, 0, 0, 0.4)\">\n\t\t\t\t\t\t\t\t<img class=\"send-image\" :src=\"JSON.parse(msgInfo.content).thumbUrl\"\n\t\t\t\t\t\t\t\t\t@click=\"showFullImageBox()\" loading=\"lazy\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span title=\"发送失败\" v-show=\"loadFail\" @click=\"onSendFail\"\n\t\t\t\t\t\t\t\tclass=\"send-fail el-icon-warning\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"chat-msg-file\" v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.FILE\">\n\t\t\t\t\t\t\t<div class=\"chat-file-box\" v-loading=\"loading\">\n\t\t\t\t\t\t\t\t<div class=\"chat-file-info\">\n\t\t\t\t\t\t\t\t\t<el-link class=\"chat-file-name\" :underline=\"true\" target=\"_blank\" type=\"primary\"\n\t\t\t\t\t\t\t\t\t\t:href=\"data.url\" :download=\"data.name\">{{ data.name }}</el-link>\n\t\t\t\t\t\t\t\t\t<div class=\"chat-file-size\">{{ fileSize }}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"chat-file-icon\">\n\t\t\t\t\t\t\t\t\t<span type=\"primary\" class=\"el-icon-document\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span title=\"发送失败\" v-show=\"loadFail\" @click=\"onSendFail\"\n\t\t\t\t\t\t\t\tclass=\"send-fail el-icon-warning\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-msg-voice\" v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.AUDIO\" @click=\"onPlayVoice()\">\n\t\t\t\t\t\t<audio controls :src=\"JSON.parse(msgInfo.content).url\"></audio>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-action chat-msg-text\" v-if=\"isAction\">\n\t\t\t\t\t\t<span v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.ACT_RT_VOICE\" title=\"重新呼叫\"\n\t\t\t\t\t\t\t@click=\"$emit('call')\" class=\"iconfont icon-chat-voice\"></span>\n\t\t\t\t\t\t<span v-if=\"msgInfo.type == $enums.MESSAGE_TYPE.ACT_RT_VIDEO\" title=\"重新呼叫\"\n\t\t\t\t\t\t\t@click=\"$emit('call')\" class=\"iconfont icon-chat-video\"></span>\n\t\t\t\t\t\t<span>{{ msgInfo.content }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-msg-status\" v-if=\"!isAction\">\n\t\t\t\t\t\t<span class=\"chat-readed\" v-show=\"msgInfo.selfSend && !msgInfo.groupId\n\t\t\t\t\t\t\t&& msgInfo.status == $enums.MESSAGE_STATUS.READED\">已读</span>\n\t\t\t\t\t\t<span class=\"chat-unread\" v-show=\"msgInfo.selfSend && !msgInfo.groupId\n\t\t\t\t\t\t\t&& msgInfo.status != $enums.MESSAGE_STATUS.READED\">未读</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-receipt\" v-show=\"msgInfo.receipt\" @click=\"onShowReadedBox\">\n\t\t\t\t\t\t<span v-if=\"msgInfo.receiptOk\" class=\"icon iconfont icon-ok\" title=\"全体已读\"></span>\n\t\t\t\t\t\t<span v-else>{{ msgInfo.readedCount }}人已读</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<right-menu v-show=\"menu && rightMenu.show\" :pos=\"rightMenu.pos\" :items=\"menuItems\"\n\t\t\t@close=\"rightMenu.show = false\" @select=\"onSelectMenu\"></right-menu>\n\t\t<chat-group-readed ref=\"chatGroupReadedBox\" :msgInfo=\"msgInfo\" :groupMembers=\"groupMembers\"></chat-group-readed>\n\t</div>\n</template>\n\n<script>\nimport HeadImage from \"../common/HeadImage.vue\";\nimport RightMenu from '../common/RightMenu.vue';\nimport ChatGroupReaded from './ChatGroupReaded.vue';\nexport default {\n\tname: \"messageItem\",\n\tcomponents: {\n\t\tHeadImage,\n\t\tRightMenu,\n\t\tChatGroupReaded\n\t},\n\tprops: {\n\t\tmode: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\tmine: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\theadImage: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tshowName: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tmsgInfo: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tgroupMembers: {\n\t\t\ttype: Array\n\t\t},\n\t\tmenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taudioPlayState: 'STOP',\n\t\t\trightMenu: {\n\t\t\t\tshow: false,\n\t\t\t\tpos: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tonSendFail() {\n\t\t\tthis.$message.error(\"该文件已发送失败，目前不支持自动重新发送，建议手动重新发送\")\n\t\t},\n\t\tshowFullImageBox() {\n\t\t\tlet imageUrl = JSON.parse(this.msgInfo.content).originUrl;\n\t\t\tif (imageUrl) {\n\t\t\t\tthis.$store.commit('showFullImageBox', imageUrl);\n\t\t\t}\n\t\t},\n\t\tonPlayVoice() {\n\t\t\tif (!this.audio) {\n\t\t\t\tthis.audio = new Audio();\n\t\t\t}\n\t\t\tthis.audio.src = JSON.parse(this.msgInfo.content).url;\n\t\t\tthis.audio.play();\n\t\t\tthis.onPlayVoice = 'RUNNING';\n\t\t},\n\t\tshowRightMenu(e) {\n\t\t\tthis.rightMenu.pos = {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y\n\t\t\t};\n\t\t\tthis.rightMenu.show = \"true\";\n\t\t},\n\t\tonSelectMenu(item) {\n\t\t\tthis.$emit(item.key.toLowerCase(), this.msgInfo);\n\t\t},\n\t\tonShowReadedBox() {\n\t\t\tlet rect = this.$refs.chatMsgBox.getBoundingClientRect();\n\t\t\tthis.$refs.chatGroupReadedBox.open(rect);\n\t\t}\n\t},\n\tcomputed: {\n\t\tloading() {\n\t\t\treturn this.msgInfo.loadStatus && this.msgInfo.loadStatus === \"loading\";\n\t\t},\n\t\tloadFail() {\n\t\t\treturn this.msgInfo.loadStatus && this.msgInfo.loadStatus === \"fail\";\n\t\t},\n\t\tdata() {\n\t\t\treturn JSON.parse(this.msgInfo.content)\n\t\t},\n\t\tfileSize() {\n\t\t\tlet size = this.data.size;\n\t\t\tif (size > 1024 * 1024) {\n\t\t\t\treturn Math.round(size / 1024 / 1024) + \"M\";\n\t\t\t}\n\t\t\tif (size > 1024) {\n\t\t\t\treturn Math.round(size / 1024) + \"KB\";\n\t\t\t}\n\t\t\treturn size + \"B\";\n\t\t},\n\t\tmenuItems() {\n\t\t\tlet items = [];\n\t\t\titems.push({\n\t\t\t\tkey: 'DELETE',\n\t\t\t\tname: '删除',\n\t\t\t\ticon: 'el-icon-delete'\n\t\t\t});\n\t\t\tif (this.msgInfo.selfSend && this.msgInfo.id > 0) {\n\t\t\t\titems.push({\n\t\t\t\t\tkey: 'RECALL',\n\t\t\t\t\tname: '撤回',\n\t\t\t\t\ticon: 'el-icon-refresh-left'\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn items;\n\t\t},\n\t\tisAction() {\n\t\t\treturn this.$msgType.isAction(this.msgInfo.type);\n\t\t},\n\t\tisNormal() {\n\t\t\tconst type = this.msgInfo.type;\n\t\t\treturn this.$msgType.isNormal(type) || this.$msgType.isAction(type)\n\t\t},\n\t\thtmlText() {\n\t\t\tlet color = this.msgInfo.selfSend ? 'white' : '';\n\t\t\tlet text = this.$url.replaceURLWithHTMLLinks(this.msgInfo.content, color)\n\t\t\treturn this.$emo.transform(text,'emoji-normal')\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-msg-item {\n\n\t.chat-msg-tip {\n\t\tline-height: 50px;\n\t\tfont-size: var(--im-font-size-small);\n\t\tcolor: var(--im-text-color-light);\n\t}\n\n\t.chat-msg-normal {\n\t\tposition: relative;\n\t\tfont-size: 0;\n\t\tpadding-left: 48px;\n\t\tmin-height: 50px;\n\t\tmargin-top: 10px;\n\n\t\t.head-image {\n\t\t\tposition: absolute;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t}\n\n\t\t.chat-msg-content {\n\t\t\ttext-align: left;\n\n\t\t\t.send-fail {\n\t\t\t\tcolor: #e60c0c;\n\t\t\t\tfont-size: 30px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tmargin: 0 20px;\n\t\t\t}\n\n\t\t\t.chat-msg-top {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t\tfont-size: var(--im-font-size);\n\t\t\t\tline-height: 20px;\n\n\t\t\t\tspan {\n\t\t\t\t\tmargin-right: 12px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.chat-msg-bottom {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding-right: 300px;\n\t\t\t\tpadding-left: 5px;\n\n\t\t\t\t.chat-msg-text {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tline-height: 26px;\n\t\t\t\t\t//margin-top: 3px;\n\t\t\t\t\tpadding: 6px 10px;\n\t\t\t\t\tbackground-color: var(--im-background);\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\tfont-size: var(--im-font-size);\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\twhite-space: pre-wrap;\n\t\t\t\t\tword-break: break-all;\n\n\t\t\t\t\t&:after {\n\t\t\t\t\t\tcontent: \"\";\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -10px;\n\t\t\t\t\t\ttop: 13px;\n\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\tborder-style: solid dashed dashed;\n\t\t\t\t\t\tborder-color: #eee transparent transparent;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tborder-width: 10px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-msg-image {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: nowrap;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.send-image {\n\t\t\t\t\t\tmin-width: 200px;\n\t\t\t\t\t\tmin-height: 150px;\n\t\t\t\t\t\tmax-width: 400px;\n\t\t\t\t\t\tmax-height: 300px;\n\t\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t.chat-msg-file {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: nowrap;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tmargin-bottom: 2px;\n\n\t\t\t\t\t.chat-file-box {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-wrap: nowrap;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tmin-height: 60px;\n\t\t\t\t\t\tbox-shadow: var(--im-box-shadow-light);\n\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\tpadding: 10px 15px;\n\n\t\t\t\t\t\t.chat-file-info {\n\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\tmargin-right: 10px;\n\n\t\t\t\t\t\t\t.chat-file-name {\n\t\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\t\tmin-width: 160px;\n\t\t\t\t\t\t\t\tmax-width: 220px;\n\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\tmargin-bottom: 4px;\n\t\t\t\t\t\t\t\twhite-space: pre-wrap;\n\t\t\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.chat-file-size {\n\t\t\t\t\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t\t\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.chat-file-icon {\n\t\t\t\t\t\t\tfont-size: 44px;\n\t\t\t\t\t\t\tcolor: #d42e07;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.send-fail {\n\t\t\t\t\t\tcolor: #e60c0c;\n\t\t\t\t\t\tfont-size: 30px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tmargin: 0 20px;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t.chat-msg-voice {\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\taudio {\n\t\t\t\t\t\theight: 45px;\n\t\t\t\t\t\tpadding: 5px 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-action {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.iconfont {\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t\tpadding-right: 8px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-msg-status {\n\t\t\t\t\tdisplay: block;\n\n\t\t\t\t\t.chat-readed {\n\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t\t\t}\n\n\t\t\t\t\t.chat-unread {\n\t\t\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t\t\t\tcolor: var(--im-color-danger);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-receipt {\n\t\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tcolor: var(--im-text-color-light);\n\n\t\t\t\t\t.icon-ok {\n\t\t\t\t\t\tfont-size: 20px;\n\t\t\t\t\t\tcolor: var(--im-color-sucess);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-at-user {\n\t\t\t\t\tpadding: 2px 5px;\n\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t&.chat-msg-mine {\n\t\t\ttext-align: right;\n\t\t\tpadding-left: 0;\n\t\t\tpadding-right: 48px;\n\n\t\t\t.head-image {\n\t\t\t\tleft: auto;\n\t\t\t\tright: 0;\n\t\t\t}\n\n\t\t\t.chat-msg-content {\n\t\t\t\ttext-align: right;\n\n\t\t\t\t.chat-msg-top {\n\t\t\t\t\tflex-direction: row-reverse;\n\n\t\t\t\t\tspan {\n\t\t\t\t\t\tmargin-left: 12px;\n\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.chat-msg-bottom {\n\t\t\t\t\tpadding-left: 180px;\n\t\t\t\t\tpadding-right: 5px;\n\n\t\t\t\t\t.chat-msg-text {\n\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\tbackground-color: var(--im-color-primary-light-2);\n\t\t\t\t\t\tcolor: #fff;\n\n\t\t\t\t\t\t&:after {\n\t\t\t\t\t\t\tleft: auto;\n\t\t\t\t\t\t\tright: -10px;\n\t\t\t\t\t\t\tborder-top-color: var(--im-color-primary-light-2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.chat-msg-image {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\n\t\t\t\t\t.chat-msg-file {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\n\t\t\t\t\t.chat-action {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\n\t\t\t\t\t\t.iconfont {\n\t\t\t\t\t\t\ttransform: rotateY(180deg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessageItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessageItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatMessageItem.vue?vue&type=template&id=f518f92e\"\nimport script from \"./ChatMessageItem.vue?vue&type=script&lang=js\"\nexport * from \"./ChatMessageItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatMessageItem.vue?vue&type=style&index=0&id=f518f92e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],on:{\"click\":function($event){return _vm.close()}}},[_c('div',{staticClass:\"emotion-box\",style:({ 'left': _vm.x + 'px', 'top': _vm.y + 'px' })},[_c('el-scrollbar',{staticStyle:{\"height\":\"220px\"}},[_c('div',{staticClass:\"emotion-item-list\"},_vm._l((_vm.$emo.emoTextList),function(emoText,i){return _c('div',{key:i,staticClass:\"emotion-item\",domProps:{\"innerHTML\":_vm._s(_vm.$emo.textToImg(emoText,'emoji-large'))},on:{\"click\":function($event){return _vm.onClickEmo(emoText)}}})}),0)])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-show=\"show\" @click=\"close()\">\n\t\t<div class=\"emotion-box\" :style=\"{ 'left': x + 'px', 'top': y + 'px' }\">\n\t\t\t<el-scrollbar style=\"height: 220px\">\n\t\t\t\t<div class=\"emotion-item-list\">\n\t\t\t\t\t<div class=\"emotion-item\" v-for=\"(emoText, i) in $emo.emoTextList\" :key=\"i\"\n\t\t\t\t\t\t@click=\"onClickEmo(emoText)\" v-html=\"$emo.textToImg(emoText,'emoji-large')\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</el-scrollbar>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"emotion\",\n\tdata() {\n\t\treturn {\n\t\t\tshow: false,\n\t\t\tpos: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tonClickEmo(emoText) {\n\t\t\tlet emotion = `#${emoText};`\n\t\t\tthis.$emit('emotion', emotion)\n\t\t},\n\t\topen(pos) {\n\t\t\tthis.pos = pos;\n\t\t\tthis.show = true;\n\t\t},\n\t\tclose() {\n\t\t\tthis.show = false;\n\t\t}\n\t},\n\tcomputed: {\n\t\tx() {\n\t\t\treturn this.pos.x - 22;\n\t\t},\n\t\ty() {\n\t\t\treturn this.pos.y - 234;\n\t\t}\n\t}\n}\n</script>\n<style scoped lang=\"scss\">\n.emotion-box {\n\tposition: fixed;\n\twidth: 372px;\n\tbox-sizing: border-box;\n\tpadding: 5px;\n\t//border-radius: 5px;\n\tbackground-color: #fff;\n\tbox-shadow: var(--im-box-shadow);\n\n\t.emotion-item-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t.emotion-item {\n\t\t\ttext-align: center;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 2px;\n\n\t\t}\n\t}\n\n\t//&:after {\n\t//\tcontent: \"\";\n\t//\tposition: absolute;\n\t//\tleft: 185px;\n\t//\tbottom: -30px;\n\t//\twidth: 0;\n\t//\theight: 0;\n\t//\tborder-style: solid dashed dashed;\n\t//\tborder-color: #f5f5f5 transparent transparent;\n\t//\toverflow: hidden;\n\t//\tborder-width: 15px;\n\t//}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Emotion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Emotion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Emotion.vue?vue&type=template&id=0592fba6&scoped=true\"\nimport script from \"./Emotion.vue?vue&type=script&lang=js\"\nexport * from \"./Emotion.vue?vue&type=script&lang=js\"\nimport style0 from \"./Emotion.vue?vue&type=style&index=0&id=0592fba6&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0592fba6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"chat-record\",attrs:{\"title\":\"语音录制\",\"visible\":_vm.visible,\"width\":\"600px\",\"before-close\":_vm.onClose},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode == 'RECORD'),expression:\"mode == 'RECORD'\"}]},[_c('div',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.stateTip))]),_c('div',[_vm._v(\"时长: \"+_vm._s(_vm.state == 'STOP' ? 0 : parseInt(_vm.rc.duration))+\"s\")])]),_c('audio',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode == 'PLAY'),expression:\"mode == 'PLAY'\"}],ref:\"audio\",attrs:{\"src\":_vm.url,\"controls\":\"\"},on:{\"ended\":function($event){return _vm.onStopAudio()}}}),_c('el-divider',{attrs:{\"content-position\":\"center\"}}),_c('el-row',{staticClass:\"btn-group\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'STOP'),expression:\"state == 'STOP'\"}],attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onStartRecord()}}},[_vm._v(\"开始录音\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'RUNNING'),expression:\"state == 'RUNNING'\"}],attrs:{\"round\":\"\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.onPauseRecord()}}},[_vm._v(\"暂停录音\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'PAUSE'),expression:\"state == 'PAUSE'\"}],attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onResumeRecord()}}},[_vm._v(\"继续录音\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'RUNNING' || _vm.state == 'PAUSE'),expression:\"state == 'RUNNING' || state == 'PAUSE'\"}],attrs:{\"round\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onCompleteRecord()}}},[_vm._v(\" 结束录音\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'COMPLETE' && _vm.mode != 'PLAY'),expression:\"state == 'COMPLETE' && mode != 'PLAY'\"}],attrs:{\"round\":\"\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.onPlayAudio()}}},[_vm._v(\"播放录音 \")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'COMPLETE' && _vm.mode == 'PLAY'),expression:\"state == 'COMPLETE' && mode == 'PLAY'\"}],attrs:{\"round\":\"\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.onStopAudio()}}},[_vm._v(\"停止播放 \")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'COMPLETE'),expression:\"state == 'COMPLETE'\"}],attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onRestartRecord()}}},[_vm._v(\"重新录音\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state == 'COMPLETE'),expression:\"state == 'COMPLETE'\"}],attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSendRecord()}}},[_vm._v(\"立即发送\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<el-dialog class=\"chat-record\" title=\"语音录制\" :visible.sync=\"visible\" width=\"600px\" :before-close=\"onClose\">\n\t\t<div v-show=\"mode == 'RECORD'\">\n\t\t\t<div class=\"tip\">{{ stateTip }}</div>\n\t\t\t<div>时长: {{ state == 'STOP' ? 0 : parseInt(rc.duration) }}s</div>\n\t\t</div>\n\t\t<audio v-show=\"mode == 'PLAY'\" :src=\"url\" controls ref=\"audio\" @ended=\"onStopAudio()\"></audio>\n\t\t<el-divider content-position=\"center\"></el-divider>\n\t\t<el-row class=\"btn-group\">\n\t\t\t<el-button round type=\"primary\" v-show=\"state == 'STOP'\" @click=\"onStartRecord()\">开始录音</el-button>\n\t\t\t<el-button round type=\"warning\" v-show=\"state == 'RUNNING'\" @click=\"onPauseRecord()\">暂停录音</el-button>\n\t\t\t<el-button round type=\"primary\" v-show=\"state == 'PAUSE'\" @click=\"onResumeRecord()\">继续录音</el-button>\n\t\t\t<el-button round type=\"danger\" v-show=\"state == 'RUNNING' || state == 'PAUSE'\" @click=\"onCompleteRecord()\">\n\t\t\t\t结束录音</el-button>\n\t\t\t<el-button round type=\"success\" v-show=\"state == 'COMPLETE' && mode != 'PLAY'\" @click=\"onPlayAudio()\">播放录音\n\t\t\t</el-button>\n\t\t\t<el-button round type=\"warning\" v-show=\"state == 'COMPLETE' && mode == 'PLAY'\" @click=\"onStopAudio()\">停止播放\n\t\t\t</el-button>\n\t\t\t<el-button round type=\"primary\" v-show=\"state == 'COMPLETE'\" @click=\"onRestartRecord()\">重新录音</el-button>\n\t\t\t<el-button round type=\"primary\" v-show=\"state == 'COMPLETE'\" @click=\"onSendRecord()\">立即发送</el-button>\n\t\t</el-row>\n\t</el-dialog>\n</template>\n\n<script>\nimport Recorder from 'js-audio-recorder';\n\nexport default {\n\tname: 'chatRecord',\n\tprops: {\n\t\tvisible: {\n\t\t\ttype: Boolean\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trc: new Recorder(),\n\t\t\taudio: new Audio(),\n\t\t\tstate: 'STOP', // STOP、RUNNING、PAUSE、COMPLETE\n\t\t\tstateTip: \"未开始\",\n\t\t\tmode: 'RECORD', // RECORD 、PLAY\n\t\t\tduration: 0,\n\t\t\turl: \"\"\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\t// 关闭前清除数据\n\t\t\tthis.rc.destroy();\n\t\t\tthis.rc = new Recorder();\n\t\t\tthis.audio.pause();\n\t\t\tthis.mode = 'RECORD';\n\t\t\tthis.state = 'STOP';\n\t\t\tthis.stateTip = '未开始';\n\t\t\tthis.$emit(\"close\");\n\t\t},\n\t\tonStartRecord() {\n\t\t\tthis.rc.start().then((stream) => {\n\t\t\t\tthis.state = 'RUNNING';\n\t\t\t\tthis.stateTip = \"正在录音...\";\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$message.error(error);\n\t\t\t});\n\n\n\t\t},\n\t\tonPauseRecord() {\n\t\t\tthis.rc.pause();\n\t\t\tthis.state = 'PAUSE';\n\t\t\tthis.stateTip = \"已暂停录音\";\n\t\t},\n\t\tonResumeRecord() {\n\t\t\tthis.rc.resume();\n\t\t\tthis.state = 'RUNNING';\n\t\t\tthis.stateTip = \"正在录音...\";\n\t\t},\n\t\tonCompleteRecord() {\n\t\t\tthis.rc.pause();\n\t\t\tthis.state = 'COMPLETE';\n\t\t\tthis.stateTip = \"已结束录音\";\n\t\t},\n\t\tonPlayAudio() {\n\t\t\tlet wav = this.rc.getWAVBlob();\n\t\t\tlet url = URL.createObjectURL(wav);\n\t\t\tthis.$refs.audio.src = url;\n\t\t\tthis.$refs.audio.play();\n\t\t\tthis.mode = 'PLAY';\n\t\t},\n\t\tonStopAudio() {\n\t\t\tthis.$refs.audio.pause();\n\t\t\tthis.mode = 'RECORD';\n\t\t},\n\t\tonRestartRecord() {\n\t\t\tthis.rc.destroy();\n\t\t\tthis.rc = new Recorder()\n\t\t\tthis.rc.start();\n\t\t\tthis.state = 'RUNNING';\n\t\t\tthis.mode = 'RECORD';\n\t\t\tthis.stateTip = \"正在录音...\";\n\t\t},\n\t\tonSendRecord() {\n\t\t\tlet wav = this.rc.getWAVBlob();\n\t\t\tlet name = new Date().getDate() + '.wav';\n\t\t\tvar formData = new window.FormData()\n\t\t\tformData.append('file', wav, name);\n\t\t\tthis.$http({\n\t\t\t\turl: '/file/upload',\n\t\t\t\tdata: formData,\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t}\n\t\t\t}).then((url) => {\n\t\t\t\tlet data = {\n\t\t\t\t\tduration: parseInt(this.rc.duration),\n\t\t\t\t\turl: url\n\t\t\t\t}\n\t\t\t\tthis.$emit(\"send\", data);\n\t\t\t\tthis.onClose();\n\t\t\t})\n\t\t}\n\t}\n\n}\n</script>\n\n<style lang=\"scss\">\n.chat-record {\n\n\t.tip {\n\t\tfont-size: 18px;\n\t}\n\n\t.btn-group {\n\t\tmargin-bottom: 20px;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRecord.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRecord.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatRecord.vue?vue&type=template&id=4f16842b\"\nimport script from \"./ChatRecord.vue?vue&type=script&lang=js\"\nexport * from \"./ChatRecord.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatRecord.vue?vue&type=style&index=0&id=4f16842b&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-drawer',{attrs:{\"title\":\"聊天历史记录\",\"size\":\"700px\",\"visible\":_vm.visible,\"direction\":\"rtl\",\"before-close\":_vm.onClose},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"chat-history\",attrs:{\"element-loading-text\":\"拼命加载中\"}},[_c('el-scrollbar',{ref:\"scrollbar\",staticClass:\"chat-history-scrollbar\",attrs:{\"id\":\"historyScrollbar\"}},[_c('ul',_vm._l((_vm.messages),function(msgInfo,idx){return _c('li',{key:idx},[_c('chat-message-item',{attrs:{\"mode\":2,\"mine\":msgInfo.sendId == _vm.mine.id,\"headImage\":_vm.headImage(msgInfo),\"showName\":_vm.showName(msgInfo),\"msgInfo\":msgInfo,\"menu\":false}})],1)}),0)])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<el-drawer title=\"聊天历史记录\" size=\"700px\" :visible.sync=\"visible\" direction=\"rtl\" :before-close=\"onClose\">\n\t\t<div class=\"chat-history\" v-loading=\"loading\" element-loading-text=\"拼命加载中\">\n\t\t\t<el-scrollbar class=\"chat-history-scrollbar\" ref=\"scrollbar\" id=\"historyScrollbar\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li v-for=\"(msgInfo, idx) in messages\" :key=\"idx\">\n\t\t\t\t\t\t<chat-message-item :mode=\"2\" :mine=\"msgInfo.sendId == mine.id\" :headImage=\"headImage(msgInfo)\"\n\t\t\t\t\t\t\t:showName=\"showName(msgInfo)\" :msgInfo=\"msgInfo\" :menu=\"false\">\n\t\t\t\t\t\t</chat-message-item>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</el-scrollbar>\n\t\t</div>\n\t</el-drawer>\n</template>\n\n<script>\nimport ChatMessageItem from './ChatMessageItem.vue';\n\nexport default {\n\tname: 'chatHistory',\n\tcomponents: {\n\t\tChatMessageItem\n\t},\n\tprops: {\n\t\tvisible: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tchat: {\n\t\t\ttype: Object\n\t\t},\n\t\tfriend: {\n\t\t\ttype: Object\n\t\t},\n\t\tgroup: {\n\t\t\ttype: Object\n\t\t},\n\t\tgroupMembers: {\n\t\t\ttype: Array,\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpage: 1,\n\t\t\tsize: 10,\n\t\t\tmessages: [],\n\t\t\tloadAll: false,\n\t\t\tloading: false,\n\t\t\tlastScrollTime: new Date()\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.page = 1;\n\t\t\tthis.messages = [];\n\t\t\tthis.loadAll = false;\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tonScroll() {\n\t\t\tlet high = this.$refs.scrollbar.$refs.wrap.scrollTop; //距离顶部的距离\n\t\t\tlet timeDiff = new Date().getTime() - this.lastScrollTime.getTime();\n\t\t\tif (high < 30 && timeDiff > 500) {\n\t\t\t\tthis.lastScrollTime = new Date();\n\t\t\t\tthis.loadMessages();\n\n\t\t\t}\n\t\t},\n\t\tloadMessages() {\n\t\t\tif (this.loadAll) {\n\t\t\t\treturn this.$message.success(\"已到达顶部\");\n\t\t\t}\n\t\t\tlet param = {\n\t\t\t\tpage: this.page++,\n\t\t\t\tsize: this.size\n\t\t\t}\n\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\tparam.groupId = this.group.id;\n\t\t\t} else {\n\t\t\t\tparam.friendId = this.friend.id;\n\t\t\t}\n\t\t\tthis.loading = true;\n\t\t\tthis.$http({\n\t\t\t\turl: this.histroyAction,\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: param\n\t\t\t}).then(messages => {\n\t\t\t\tmessages.forEach(m => this.messages.unshift(m));\n\t\t\t\tthis.loading = false;\n\t\t\t\tif (messages.length < this.size) {\n\t\t\t\t\tthis.loadAll = true;\n\t\t\t\t}\n\t\t\t\tthis.refreshScrollPos();\n\t\t\t}).catch(() => {\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t},\n\t\tshowName(msgInfo) {\n\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\treturn member ? member.showNickName : \"\";\n\t\t\t} else {\n\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.nickName : this.chat.showName\n\t\t\t}\n\t\t},\n\t\theadImage(msgInfo) {\n\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\treturn member ? member.headImage : \"\";\n\t\t\t} else {\n\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.headImageThumb : this.chat.headImage\n\t\t\t}\n\t\t},\n\t\trefreshScrollPos() {\n\t\t\tlet scrollWrap = this.$refs.scrollbar.$refs.wrap;\n\t\t\tlet scrollHeight = scrollWrap.scrollHeight;\n\t\t\tlet scrollTop = scrollWrap.scrollTop;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tlet offsetTop = scrollWrap.scrollHeight - scrollHeight;\n\t\t\t\tscrollWrap.scrollTop = scrollTop + offsetTop;\n\t\t\t\t// 滚动条没出来，继续加载\n\t\t\t\tif (scrollWrap.scrollHeight == scrollHeight) {\n\t\t\t\t\tthis.loadMessages();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tmine() {\n\t\t\treturn this.$store.state.userStore.userInfo;\n\t\t},\n\t\thistroyAction() {\n\t\t\treturn `/message/${this.chat.type.toLowerCase()}/history`;\n\t\t}\n\t},\n\twatch: {\n\t\tvisible: {\n\t\t\thandler(newValue, oldValue) {\n\t\t\t\tif (newValue) {\n\t\t\t\t\tthis.loadMessages();\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tdocument.getElementById('historyScrollbar').addEventListener(\"mousewheel\", this.onScroll, true);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-history {\n\tdisplay: flex;\n\theight: 100%;\n\n\t.chat-history-scrollbar {\n\t\tflex: 1;\n\n\t\t.el-scrollbar__thumb {\n\t\t\tbackground-color: #555555;\n\t\t}\n\n\t\tul {\n\t\t\tpadding: 20px;\n\n\t\t\tli {\n\t\t\t\tlist-style-type: none;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatHistory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatHistory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatHistory.vue?vue&type=template&id=5bacf110\"\nimport script from \"./ChatHistory.vue?vue&type=script&lang=js\"\nexport * from \"./ChatHistory.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatHistory.vue?vue&type=style&index=0&id=5bacf110&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-scrollbar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show && _vm.showMembers.length),expression:\"show && showMembers.length\"}],ref:\"scrollBox\",staticClass:\"group-member-choose\",style:({ 'left': _vm.pos.x + 'px', 'top': _vm.pos.y - 300 + 'px' })},_vm._l((_vm.showMembers),function(member,idx){return _c('div',{key:member.id},[_c('chat-group-member',{attrs:{\"member\":member,\"height\":40,\"active\":_vm.activeIdx == idx},nativeOn:{\"click\":function($event){return _vm.onSelectMember(member)}}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<el-scrollbar v-show=\"show && showMembers.length\" ref=\"scrollBox\" class=\"group-member-choose\"\n\t\t:style=\"{ 'left': pos.x + 'px', 'top': pos.y - 300 + 'px' }\">\n\t\t<div v-for=\"(member, idx) in showMembers\" :key=\"member.id\">\n\t\t\t<chat-group-member :member=\"member\" :height=\"40\" :active='activeIdx == idx'\n\t\t\t\t@click.native=\"onSelectMember(member)\"></chat-group-member>\n\t\t</div>\n\t</el-scrollbar>\n</template>\n\n<script>\nimport ChatGroupMember from \"./ChatGroupMember.vue\";\nexport default {\n\tname: \"chatAtBox\",\n\tcomponents: {\n\t\tChatGroupMember\n\t},\n\tprops: {\n\t\tsearchText: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\townerId: {\n\t\t\ttype: Number,\n\t\t},\n\t\tmembers: {\n\t\t\ttype: Array\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: false,\n\t\t\tpos: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\tactiveIdx: 0,\n\t\t\tshowMembers: []\n\t\t};\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tthis.$refs.scrollBox.wrap.scrollTop = 0;\n\t\t\tthis.showMembers = [];\n\t\t\tlet userId = this.$store.state.userStore.userInfo.id;\n\t\t\tlet name = \"全体成员\";\n\t\t\tif (this.ownerId == userId && name.startsWith(this.searchText)) {\n\t\t\t\tthis.showMembers.push({\n\t\t\t\t\tuserId: -1,\n\t\t\t\t\tshowNickName: name\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.members.forEach((m) => {\n\t\t\t\t// 只显示100条\n\t\t\t\tif (this.showMembers.length > 100) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (m.userId != userId && !m.quit && m.showNickName.startsWith(this.searchText)) {\n\t\t\t\t\tthis.showMembers.push(m);\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.activeIdx = this.showMembers.length > 0 ? 0 : -1;\n\t\t},\n\t\topen(pos) {\n\t\t\tthis.show = true;\n\t\t\tthis.pos = pos;\n\t\t\tthis.init();\n\t\t},\n\t\tclose() {\n\t\t\tthis.show = false;\n\t\t},\n\t\tmoveUp() {\n\t\t\tif (this.activeIdx > 0) {\n\t\t\t\tthis.activeIdx--;\n\t\t\t\tthis.scrollToActive()\n\t\t\t}\n\t\t},\n\t\tmoveDown() {\n\t\t\tif (this.activeIdx < this.showMembers.length - 1) {\n\t\t\t\tthis.activeIdx++;\n\t\t\t\tthis.scrollToActive()\n\t\t\t}\n\t\t},\n\t\tselect() {\n\t\t\tif (this.activeIdx >= 0) {\n\t\t\t\tthis.onSelectMember(this.showMembers[this.activeIdx])\n\t\t\t}\n\t\t\tthis.close();\n\t\t},\n\t\tscrollToActive() {\n\t\t\tif (this.activeIdx * 35 - this.$refs.scrollBox.wrap.clientHeight > this.$refs.scrollBox.wrap.scrollTop) {\n\t\t\t\tthis.$refs.scrollBox.wrap.scrollTop += 140;\n\t\t\t\tif (this.$refs.scrollBox.wrap.scrollTop > this.$refs.scrollBox.wrap.scrollHeight) {\n\t\t\t\t\tthis.$refs.scrollBox.wrap.scrollTop = this.$refs.scrollBox.wrap.scrollHeight\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.activeIdx * 35 < this.$refs.scrollBox.wrap.scrollTop) {\n\t\t\t\tthis.$refs.scrollBox.wrap.scrollTop -= 140;\n\t\t\t\tif (this.$refs.scrollBox.wrap.scrollTop < 0) {\n\t\t\t\t\tthis.$refs.scrollBox.wrap.scrollTop = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSelectMember(member) {\n\t\t\tthis.$emit(\"select\", member);\n\t\t\tthis.show = false;\n\t\t}\n\t},\n\tcomputed: {\n\t\tisOwner() {\n\t\t\treturn this.$store.state.userStore.userInfo.id == this.ownerId;\n\t\t}\n\t},\n\twatch: {\n\t\tsearchText: {\n\t\t\thandler(newText, oldText) {\n\t\t\t\tthis.init();\n\t\t\t}\n\t\t}\n\t}\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.group-member-choose {\n\tposition: fixed;\n\twidth: 200px;\n\theight: 300px;\n\t//border: 1px solid #53a0e79c;\n\t//border-radius: 5px;\n\tbackground-color: #fff;\n\tbox-shadow: var(--im-box-shadow);\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatAtBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatAtBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatAtBox.vue?vue&type=template&id=3e4833d6&scoped=true\"\nimport script from \"./ChatAtBox.vue?vue&type=script&lang=js\"\nexport * from \"./ChatAtBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatAtBox.vue?vue&type=style&index=0&id=3e4833d6&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e4833d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"选择成员\",\"visible\":_vm.isShow,\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('div',{staticClass:\"group-member-selector\"},[_c('div',{staticClass:\"left-box\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})]),_c('virtual-scroller',{staticClass:\"scroll-box\",attrs:{\"items\":_vm.showMembers},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('group-member-item',{attrs:{\"member\":item},nativeOn:{\"click\":function($event){return _vm.onClickMember(item)}}},[_c('el-checkbox',{attrs:{\"disabled\":item.locked},on:{\"change\":function($event){return _vm.onChange(item)}},nativeOn:{\"click\":function($event){$event.stopPropagation();}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1)]}}])})],1),_c('div',{staticClass:\"arrow el-icon-d-arrow-right\"}),_c('div',{staticClass:\"right-box\"},[_c('div',{staticClass:\"select-tip\"},[_vm._v(\" 已勾选\"+_vm._s(_vm.checkedMembers.length)+\"位成员\")]),_c('div',{staticClass:\"checked-member-list\"},_vm._l((_vm.members),function(m){return _c('div',{key:m.userId},[(m.checked)?_c('group-member',{staticClass:\"member-item\",attrs:{\"member\":m}}):_vm._e()],1)}),0)])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.ok()}}},[_vm._v(\"确 定\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"group-member-item\",style:({ 'height': _vm.height + 'px' })},[_c('div',{staticClass:\"member-avatar\"},[_c('head-image',{attrs:{\"size\":_vm.headImageSize,\"name\":_vm.member.showNickName,\"url\":_vm.member.headImage,\"online\":_vm.member.online}})],1),_c('div',{staticClass:\"member-name\",style:({ 'line-height': _vm.height + 'px' })},[_c('div',[_vm._v(_vm._s(_vm.member.showNickName))])]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"group-member-item\" :style=\"{ 'height': height + 'px' }\">\n        <div class=\"member-avatar\">\n            <head-image :size=\"headImageSize\" :name=\"member.showNickName\" :url=\"member.headImage\"\n                :online=\"member.online\"> </head-image>\n        </div>\n        <div class=\"member-name\" :style=\"{ 'line-height': height + 'px' }\">\n            <div>{{ member.showNickName }}</div>\n        </div>\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport HeadImage from \"../common/HeadImage.vue\";\nexport default {\n    name: \"groupMember\",\n    components: { HeadImage },\n    data() {\n        return {};\n    },\n    props: {\n        member: {\n            type: Object,\n            required: true\n        },\n        height: {\n            type: Number,\n            default: 50\n        }\n    },\n    computed: {\n        headImageSize() {\n            return Math.ceil(this.height * 0.75)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.group-member-item {\n    display: flex;\n    position: relative;\n    padding: 0 15px;\n    align-items: center;\n    white-space: nowrap;\n    box-sizing: border-box;\n\n    &:hover {\n        background-color: var(--im-background-active);\n    }\n\n    &.active {\n        background-color: #eeeeee;\n    }\n\n    .member-name {\n        flex: 1;\n        padding-left: 10px;\n        height: 100%;\n        text-align: left;\n        white-space: nowrap;\n        overflow: hidden;\n        font-size: var(--im-font-size);\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupMemberItem.vue?vue&type=template&id=ee848b34\"\nimport script from \"./GroupMemberItem.vue?vue&type=script&lang=js\"\nexport * from \"./GroupMemberItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./GroupMemberItem.vue?vue&type=style&index=0&id=ee848b34&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<el-dialog title=\"选择成员\" :visible.sync=\"isShow\" width=\"700px\">\n\t\t<div class=\"group-member-selector\">\n\t\t\t<div class=\"left-box\">\n\t\t\t\t<el-input placeholder=\"搜索\" v-model=\"searchText\">\n\t\t\t\t\t<i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n\t\t\t\t</el-input>\n\t\t\t\t<virtual-scroller class=\"scroll-box\" :items=\"showMembers\">\n\t\t\t\t\t<template v-slot=\"{ item }\">\n\t\t\t\t\t\t<group-member-item :member=\"item\" @click.native=\"onClickMember(item)\">\n\t\t\t\t\t\t\t<el-checkbox :disabled=\"item.locked\" v-model=\"item.checked\" @change=\"onChange(item)\"\n\t\t\t\t\t\t\t\t@click.native.stop=\"\"></el-checkbox>\n\t\t\t\t\t\t</group-member-item>\n\t\t\t\t\t</template>\n\t\t\t\t</virtual-scroller>\n\t\t\t</div>\n\t\t\t<div class=\"arrow el-icon-d-arrow-right\"></div>\n\t\t\t<div class=\"right-box\">\n\t\t\t\t<div class=\"select-tip\"> 已勾选{{ checkedMembers.length }}位成员</div>\n\t\t\t\t<div class=\"checked-member-list\">\n\t\t\t\t\t<div v-for=\"m in members\" :key=\"m.userId\">\n\t\t\t\t\t\t<group-member class=\"member-item\" v-if=\"m.checked\" :member=\"m\"></group-member>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t<el-button @click=\"close()\">取 消</el-button>\n\t\t\t<el-button type=\"primary\" @click=\"ok()\">确 定</el-button>\n\t\t</span>\n\t</el-dialog>\n</template>\n\n<script>\nimport VirtualScroller from '../common/VirtualScroller.vue';\nimport GroupMemberItem from './GroupMemberItem.vue';\nimport GroupMember from './GroupMember.vue';\n\nexport default {\n\tname: \"addGroupMember\",\n\tcomponents: {\n\t\tGroupMemberItem,\n\t\tGroupMember,\n\t\tVirtualScroller\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShow: false,\n\t\t\tsearchText: \"\",\n\t\t\tmaxSize: -1,\n\t\t\tmembers: []\n\t\t}\n\t},\n\tprops: {\n\t\tgroupId: {\n\t\t\ttype: Number\n\t\t}\n\t},\n\tmethods: {\n\t\topen(maxSize, checkedIds, lockedIds) {\n\t\t\tthis.maxSize = maxSize;\n\t\t\tthis.isShow = true;\n\t\t\tthis.loadGroupMembers(checkedIds, lockedIds);\n\t\t},\n\t\tloadGroupMembers(checkedIds, lockedIds) {\n\t\t\tthis.$http({\n\t\t\t\turl: `/group/members/${this.groupId}`,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then((members) => {\n\t\t\t\tmembers.forEach((m) => {\n\t\t\t\t\t// 默认选择和锁定的用户\n\t\t\t\t\tm.checked = checkedIds.indexOf(m.userId) >= 0;\n\t\t\t\t\tm.locked = lockedIds.indexOf(m.userId) >= 0;\n\t\t\t\t});\n\t\t\t\tthis.members = members;\n\t\t\t});\n\t\t},\n\t\tonClickMember(m) {\n\t\t\tif (!m.locked) {\n\t\t\t\tm.checked = !m.checked;\n\t\t\t}\n\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\tm.checked = false;\n\t\t\t}\n\t\t},\n\t\tonChange(m) {\n\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\tm.checked = false;\n\t\t\t}\n\t\t},\n\t\tok() {\n\t\t\tthis.$emit(\"complete\", this.checkedMembers);\n\t\t\tthis.isShow = false;\n\t\t},\n\t\tclose() {\n\t\t\tthis.isShow = false;\n\t\t}\n\t},\n\tcomputed: {\n\t\tcheckedMembers() {\n\t\t\tlet ids = [];\n\t\t\tthis.members.forEach((m) => {\n\t\t\t\tif (m.checked) {\n\t\t\t\t\tids.push(m);\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn ids;\n\t\t},\n\t\tshowMembers() {\n\t\t\treturn this.members.filter((m) => !m.hide && !m.quit && m.showNickName.includes(this.searchText))\n\t\t}\n\t}\n\n}\n</script>\n\n<style lang=\"scss\">\n.group-member-selector {\n\tdisplay: flex;\n\n\n\t.left-box {\n\t\twidth: 48%;\n\t\toverflow: hidden;\n\t\tborder: var(--im-border);\n\n\n\t\t.scroll-box {\n\t\t\theight: 400px;\n\t\t}\n\n\n\t\t.el-input__inner {\n\t\t\tborder: none;\n\t\t\tborder-bottom: var(--im-border);\n\t\t}\n\t}\n\n\n\t.arrow {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-size: 20px;\n\t\tpadding: 10px;\n\t\tfont-weight: 600;\n\t\tcolor: var(--im-color-primary);\n\t}\n\n\t.right-box {\n\t\twidth: 48%;\n\t\tborder: var(--im-border);\n\n\t\t.select-tip {\n\t\t\ttext-align: left;\n\t\t\theight: 40px;\n\t\t\tline-height: 40px;\n\t\t\ttext-indent: 5px;\n\t\t\tcolor: var(--im-text-color-light)\n\t\t}\n\n\t\t.checked-member-list {\n\t\t\tpadding: 10px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tflex-wrap: wrap;\n\n\t\t\t.member-item {\n\t\t\t\tpadding: 2px;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberSelector.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupMemberSelector.vue?vue&type=template&id=5722585a\"\nimport script from \"./GroupMemberSelector.vue?vue&type=script&lang=js\"\nexport * from \"./GroupMemberSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./GroupMemberSelector.vue?vue&type=style&index=0&id=5722585a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-input-area\"},[_c('div',{ref:\"content\",class:['edit-chat-container', _vm.isEmpty ? '' : 'not-empty'],attrs:{\"contenteditable\":\"true\"},on:{\"paste\":function($event){$event.preventDefault();return _vm.onPaste.apply(null, arguments)},\"keydown\":_vm.onKeydown,\"compositionstart\":function($event){_vm.compositionFlag = true},\"compositionend\":_vm.onCompositionEnd,\"input\":_vm.onEditorInput,\"mousedown\":_vm.onMousedown,\"blur\":_vm.onBlur}}),_c('chat-at-box',{ref:\"atBox\",attrs:{\"search-text\":_vm.atSearchText,\"ownerId\":_vm.ownerId,\"members\":_vm.groupMembers},on:{\"select\":_vm.onAtSelect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"chat-input-area\">\n\t\t<div :class=\"['edit-chat-container', isEmpty ? '' : 'not-empty']\" contenteditable=\"true\" @paste.prevent=\"onPaste\"\n\t\t\t@keydown=\"onKeydown\" @compositionstart=\"compositionFlag = true\" @compositionend=\"onCompositionEnd\"\n\t\t\t@input=\"onEditorInput\" @mousedown=\"onMousedown\" ref=\"content\" @blur=\"onBlur\">\n\t\t</div>\n\t\t<chat-at-box @select=\"onAtSelect\" :search-text=\"atSearchText\" ref=\"atBox\" :ownerId=\"ownerId\"\n\t\t\t:members=\"groupMembers\"></chat-at-box>\n\t</div>\n</template>\n\n<script>\nimport ChatAtBox from \"./ChatAtBox\";\n\nexport default {\n\tname: \"ChatInput\",\n\tcomponents: { ChatAtBox },\n\tprops: {\n\t\townerId: {\n\t\t\ttype: Number,\n\t\t},\n\t\tgroupMembers: {\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\timageList: [],\n\t\t\tfileList: [],\n\t\t\tcurrentId: 0,\n\t\t\tatSearchText: null,\n\t\t\tcompositionFlag: false,\n\t\t\tatIng: false,\n\t\t\tisEmpty: true,\n\t\t\tchangeStored: true,\n\t\t\tblurRange: null\n\t\t}\n\t},\n\tmethods: {\n\t\tonPaste(e) {\n\t\t\tthis.isEmpty = false;\n\t\t\tlet txt = e.clipboardData.getData('Text')\n\t\t\tlet range = window.getSelection().getRangeAt(0)\n\t\t\tif (range.startContainer !== range.endContainer || range.startOffset !== range.endOffset) {\n\t\t\t\trange.deleteContents();\n\t\t\t}\n\t\t\t// 粘贴图片和文件时，这里没有数据\n\t\t\tif (txt && typeof (txt) == 'string') {\n\t\t\t\tlet textNode = document.createTextNode(txt);\n\t\t\t\trange.insertNode(textNode)\n\t\t\t\trange.collapse();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet items = (e.clipboardData || window.clipboardData).items\n\t\t\tif (items.length) {\n\t\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\t\tif (items[i].type.indexOf('image') !== -1) {\n\t\t\t\t\t\tlet file = items[i].getAsFile();\n\t\t\t\t\t\tlet imagePush = {\n\t\t\t\t\t\t\tfileId: this.generateId(),\n\t\t\t\t\t\t\tfile: file,\n\t\t\t\t\t\t\turl: URL.createObjectURL(file)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.imageList[imagePush.fileId] = (imagePush);\n\t\t\t\t\t\tlet line = this.newLine();\n\t\t\t\t\t\tlet imageElement = document.createElement('img');\n\t\t\t\t\t\timageElement.className = 'chat-image no-text';\n\t\t\t\t\t\timageElement.src = imagePush.url;\n\t\t\t\t\t\timageElement.dataset.imgId = imagePush.fileId;\n\t\t\t\t\t\tline.appendChild(imageElement);\n\t\t\t\t\t\tlet after = document.createTextNode('\\u00A0');\n\t\t\t\t\t\tline.appendChild(after);\n\t\t\t\t\t\tthis.selectElement(after, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet asFile = items[i].getAsFile();\n\t\t\t\t\t\tif (!asFile) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet filePush = { fileId: this.generateId(), file: asFile };\n\t\t\t\t\t\tthis.fileList[filePush.fileId] = (filePush)\n\t\t\t\t\t\tlet line = this.newLine();\n\t\t\t\t\t\tlet fileElement = this.createFile(filePush);\n\t\t\t\t\t\tline.appendChild(fileElement);\n\t\t\t\t\t\tlet after = document.createTextNode('\\u00A0');\n\t\t\t\t\t\tline.appendChild(after);\n\t\t\t\t\t\tthis.selectElement(after, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\trange.collapse();\n\t\t},\n\t\tselectElement(element, endOffset) {\n\t\t\tlet selection = window.getSelection();\n\t\t\t// 插入元素可能不是立即执行的，vue可能会在插入元素后再更新dom\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tlet t1 = document.createRange();\n\t\t\t\tt1.setStart(element, 0);\n\t\t\t\tt1.setEnd(element, endOffset || 0);\n\t\t\t\tif (element.firstChild) {\n\t\t\t\t\tt1.selectNodeContents(element.firstChild);\n\t\t\t\t}\n\t\t\t\tt1.collapse();\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(t1);\n\t\t\t\t// 需要时自动聚焦\n\t\t\t\tif (element.focus) {\n\t\t\t\t\telement.focus();\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonCompositionEnd(e) {\n\t\t\tthis.compositionFlag = false;\n\t\t\tthis.onEditorInput(e);\n\t\t},\n\t\tonKeydown(e) {\n\t\t\tif (e.keyCode === 13) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (this.atIng) {\n\t\t\t\t\tconsole.log('选中at的人')\n\t\t\t\t\tthis.$refs.atBox.select();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\tlet line = this.newLine();\n\t\t\t\t\tlet after = document.createTextNode('\\u00A0');\n\t\t\t\t\tline.appendChild(after);\n\t\t\t\t\tthis.selectElement(line.childNodes[0], 0);\n\t\t\t\t} else {\n\t\t\t\t\t// 中文输入标记\n\t\t\t\t\tif (this.compositionFlag) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.submit();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 删除键\n\t\t\tif (e.keyCode === 8) {\n\t\t\t\tconsole.log(\"delete\")\n\t\t\t\t// 等待dom更新\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet s = this.$refs.content.innerHTML.trim();\n\t\t\t\t\t// 空dom时，需要刷新dom\n\t\t\t\t\tconsole.log(s);\n\t\t\t\t\tif (s === '' || s === '<br>' || s === '<div>&nbsp;</div>') {\n\t\t\t\t\t\t// 拼接随机长度的空格，以刷新dom\n\t\t\t\t\t\tthis.empty();\n\t\t\t\t\t\tthis.isEmpty = true;\n\t\t\t\t\t\tthis.selectElement(this.$refs.content);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isEmpty = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t// at框打开时，上下键移动特殊处理\n\t\t\tif (this.atIng) {\n\t\t\t\tif (e.keyCode === 38) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.$refs.atBox.moveUp();\n\t\t\t\t}\n\t\t\t\tif (e.keyCode === 40) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.$refs.atBox.moveDown();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tonAtSelect(member) {\n\t\t\tthis.atIng = false;\n\t\t\t// 选中输入的 @xx 符\n\t\t\tlet blurRange = this.blurRange;\n\t\t\tlet endContainer = blurRange.endContainer\n\t\t\tlet startOffset = endContainer.data.indexOf(\"@\" + this.atSearchText);\n\t\t\tlet endOffset = startOffset + this.atSearchText.length + 1;\n\t\t\tblurRange.setStart(blurRange.endContainer, startOffset);\n\t\t\tblurRange.setEnd(blurRange.endContainer, endOffset);\n\t\t\tblurRange.deleteContents()\n\t\t\tblurRange.collapse();\n\t\t\tconsole.log(\"onAtSelect\")\n\t\t\tthis.focus();\n\t\t\t// 创建元素节点\n\t\t\tlet element = document.createElement('SPAN')\n\t\t\telement.className = \"chat-at-user\";\n\t\t\telement.dataset.id = member.userId;\n\t\t\telement.contentEditable = 'false'\n\t\t\telement.innerText = `@${member.showNickName}`\n\t\t\tblurRange.insertNode(element)\n\t\t\t// 光标移动到末尾\n\t\t\tblurRange.collapse()\n\n\t\t\t// 插入空格\n\t\t\tlet textNode = document.createTextNode('\\u00A0');\n\t\t\tblurRange.insertNode(textNode);\n\n\t\t\tblurRange.collapse()\n\t\t\tthis.atSearchText = \"\";\n\t\t\tthis.selectElement(textNode, 1);\n\t\t},\n\t\tonEditorInput(e) {\n\t\t\tthis.isEmpty = false;\n\t\t\tthis.changeStored = false;\n\t\t\tif (this.$props.groupMembers && !this.compositionFlag) {\n\t\t\t\tlet selection = window.getSelection()\n\t\t\t\tlet range = selection.getRangeAt(0);\n\t\t\t\t// 截取@后面的名称作为过滤条件，并以空格结束\n\t\t\t\tlet endContainer = range.endContainer;\n\t\t\t\tlet endOffset = range.endOffset;\n\t\t\t\tlet textContent = endContainer.textContent;\n\t\t\t\tlet startIndex = -1;\n\t\t\t\tfor (let i = endOffset; i >= 0; i--) {\n\t\t\t\t\tif (textContent[i] === '@') {\n\t\t\t\t\t\tstartIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 没有at符号，则关闭弹窗\n\t\t\t\tif (startIndex === -1) {\n\t\t\t\t\tthis.$refs.atBox.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet endIndex = endOffset;\n\t\t\t\tfor (let i = endOffset; i < textContent.length; i++) {\n\t\t\t\t\tif (textContent[i] === ' ') {\n\t\t\t\t\t\tendIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.atSearchText = textContent.substring(startIndex + 1, endIndex).trim();\n\t\t\t\t// 打开选择弹窗\n\t\t\t\tif (this.atSearchText == '') {\n\t\t\t\t\tthis.showAtBox(e)\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tonBlur(e) {\n\t\t\tthis.updateRange();\n\n\t\t},\n\t\tonMousedown() {\n\t\t\tif (this.atIng) {\n\t\t\t\tthis.$refs.atBox.close();\n\t\t\t\tthis.atIng = false;\n\t\t\t}\n\t\t},\n\t\tinsertEmoji(emojiText) {\n\t\t\tlet emojiElement = document.createElement('img');\n\t\t\temojiElement.className = 'emoji-normal no-text';\n\t\t\temojiElement.dataset.emojiCode = emojiText;\n\t\t\temojiElement.src = this.$emo.textToUrl(emojiText);\n\n\t\t\tlet blurRange = this.blurRange;\n\t\t\tif (!blurRange) {\n\t\t\t\tthis.focus();\n\t\t\t\tthis.updateRange();\n\t\t\t\tblurRange = this.blurRange;\n\t\t\t}\n\t\t\tif (blurRange.startContainer !== blurRange.endContainer || blurRange.startOffset !== blurRange.endOffset) {\n\t\t\t\tblurRange.deleteContents();\n\t\t\t}\n\t\t\tblurRange.insertNode(emojiElement);\n\t\t\tblurRange.collapse()\n\n\t\t\tlet textNode = document.createTextNode('\\u00A0');\n\t\t\tblurRange.insertNode(textNode)\n\t\t\tblurRange.collapse()\n\n\t\t\tthis.selectElement(textNode);\n\t\t\tthis.updateRange();\n\t\t\tthis.isEmpty = false;\n\t\t},\n\t\tgenerateId() {\n\t\t\treturn this.currentId++;\n\t\t},\n\t\tcreateFile(filePush) {\n\t\t\tlet file = filePush.file;\n\t\t\tlet fileId = filePush.fileId;\n\t\t\tlet container = document.createElement('div');\n\t\t\tcontainer.className = 'chat-file-container no-text';\n\t\t\tcontainer.contentEditable = 'false';\n\t\t\tcontainer.dataset.fileId = fileId;\n\n\t\t\tlet left = document.createElement('div');\n\t\t\tleft.className = 'file-position-left';\n\t\t\tcontainer.appendChild(left);\n\n\t\t\tlet icon = document.createElement('div');\n\t\t\ticon.className = 'el-icon-document';\n\t\t\tleft.appendChild(icon);\n\n\t\t\tlet right = document.createElement('div');\n\t\t\tright.className = 'file-position-right';\n\t\t\tcontainer.appendChild(right);\n\n\t\t\tlet fileName = document.createElement('div');\n\t\t\tfileName.className = 'file-name';\n\t\t\tfileName.innerText = file.name;\n\n\t\t\tlet fileSize = document.createElement('div');\n\t\t\tfileSize.className = 'file-size';\n\t\t\tfileSize.innerText = this.sizeConvert(file.size);\n\n\t\t\tright.appendChild(fileName);\n\t\t\tright.appendChild(fileSize);\n\n\t\t\treturn container;\n\t\t},\n\t\tsizeConvert(len) {\n\t\t\tif (len < 1024) {\n\t\t\t\treturn len + 'B';\n\t\t\t} else if (len < 1024 * 1024) {\n\t\t\t\treturn (len / 1024).toFixed(2) + 'KB';\n\t\t\t} else if (len < 1024 * 1024 * 1024) {\n\t\t\t\treturn (len / 1024 / 1024).toFixed(2) + 'MB';\n\t\t\t} else {\n\t\t\t\treturn (len / 1024 / 1024 / 1024).toFixed(2) + 'GB';\n\t\t\t}\n\t\t},\n\t\tupdateRange() {\n\t\t\tlet selection = window.getSelection();\n\t\t\tthis.blurRange = selection.getRangeAt(0);\n\t\t},\n\t\tnewLine() {\n\t\t\tlet selection = window.getSelection();\n\t\t\tlet range = selection.getRangeAt(0);\n\t\t\tlet divElement = document.createElement('div');\n\t\t\tlet endContainer = range.endContainer;\n\t\t\tlet parentElement = endContainer.parentElement;\n\t\t\tif (parentElement.parentElement === this.$refs.content) {\n\t\t\t\tdivElement.innerHTML = endContainer.textContent.substring(range.endOffset).trim();\n\t\t\t\tendContainer.textContent = endContainer.textContent.substring(0, range.endOffset);\n\t\t\t\t// 插入到当前div（当前行）后面\n\t\t\t\tparentElement.insertAdjacentElement('afterend', divElement);\n\t\t\t} else {\n\t\t\t\tdivElement.innerHTML = '';\n\t\t\t\tthis.$refs.content.append(divElement);\n\t\t\t}\n\t\t\treturn divElement;\n\t\t},\n\t\tclear() {\n\t\t\tthis.empty();\n\t\t\tthis.imageList = [];\n\t\t\tthis.fileList = [];\n\t\t},\n\t\tempty() {\n\t\t\tthis.$refs.content.innerHTML = \"\";\n\t\t\tlet line = this.newLine();\n\t\t\tlet after = document.createTextNode('\\u00A0');\n\t\t\tline.appendChild(after);\n\t\t\tthis.$nextTick(() => this.selectElement(after));\n\t\t},\n\t\tshowAtBox(e) {\n\t\t\tthis.atIng = true;\n\t\t\t// show之后会自动更新当前搜索的text\n\t\t\t// this.atSearchText = \"\";\n\t\t\tlet selection = window.getSelection()\n\t\t\tlet range = selection.getRangeAt(0)\n\t\t\t// 光标所在坐标\n\t\t\tlet pos = range.getBoundingClientRect();\n\t\t\tthis.$refs.atBox.open({\n\t\t\t\tx: pos.x,\n\t\t\t\ty: pos.y\n\t\t\t})\n\t\t\t// 记录光标所在位置\n\t\t\tthis.updateRange();\n\t\t},\n\t\thtml2Escape(strHtml) {\n\t\t\treturn strHtml.replace(/[<>&\"]/g, function (c) {\n\t\t\t\treturn {\n\t\t\t\t\t'<': '&lt;',\n\t\t\t\t\t'>': '&gt;',\n\t\t\t\t\t'&': '&amp;',\n\t\t\t\t\t'\"': '&quot;'\n\t\t\t\t}[c];\n\t\t\t});\n\t\t},\n\t\tsubmit() {\n\t\t\tlet nodes = this.$refs.content.childNodes;\n\t\t\tlet fullList = [];\n\t\t\tlet tempText = '';\n\t\t\tlet atUserIds = [];\n\t\t\tlet each = (nodes) => {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tlet node = nodes[i];\n\t\t\t\t\tif (!node) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\t\ttempText += this.html2Escape(node.textContent);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet nodeName = node.nodeName.toLowerCase();\n\t\t\t\t\tif (nodeName === 'script') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet text = tempText.trim();\n\t\t\t\t\tif (nodeName === 'img') {\n\t\t\t\t\t\tlet imgId = node.dataset.imgId;\n\t\t\t\t\t\tif (imgId) {\n\t\t\t\t\t\t\tif (text) {\n\t\t\t\t\t\t\t\tfullList.push({\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tcontent: text,\n\t\t\t\t\t\t\t\t\tatUserIds: atUserIds\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\ttempText = '';\n\t\t\t\t\t\t\t\tatUserIds = []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfullList.push({\n\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\tcontent: this.imageList[imgId]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet emojiCode = node.dataset.emojiCode;\n\t\t\t\t\t\t\ttempText += emojiCode;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (nodeName === 'div') {\n\t\t\t\t\t\tlet fileId = node.dataset.fileId\n\t\t\t\t\t\t// 文件\n\t\t\t\t\t\tif (fileId) {\n\t\t\t\t\t\t\tif (text) {\n\t\t\t\t\t\t\t\tfullList.push({\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tcontent: text,\n\t\t\t\t\t\t\t\t\tatUserIds: atUserIds\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\ttempText = '';\n\t\t\t\t\t\t\t\tatUserIds = []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfullList.push({\n\t\t\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t\t\tcontent: this.fileList[fileId]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttempText += '\\n';\n\t\t\t\t\t\t\teach(node.childNodes);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (nodeName === 'span') {\n\t\t\t\t\t\tif (node.dataset.id) {\n\t\t\t\t\t\t\ttempText += node.innerHTML;\n\t\t\t\t\t\t\tatUserIds.push(node.dataset.id)\n\t\t\t\t\t\t} else if(node.outerHtml) {\n\t\t\t\t\t\t\ttempText += node.outerHtml;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\teach(nodes)\n\t\t\tlet text = tempText.trim();\n\t\t\tif (text !== '') {\n\t\t\t\tfullList.push({\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tcontent: text,\n\t\t\t\t\tatUserIds: atUserIds\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.$emit('submit', fullList);\n\t\t},\n\t\tfocus() {\n\t\t\tthis.$refs.content.focus();\n\t\t}\n\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-input-area {\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\n\t.edit-chat-container {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\toutline: none;\n\t\tpadding: 5px;\n\t\tline-height: 26px;\n\t\tfont-size: var(--im-font-size);\n\t\ttext-align: left;\n\t\toverflow-y: auto;\n\n\t\t// 单独一行时，无法在前面输入的bug\n\t\t>div:before {\n\t\t\tcontent: \"\\00a0\";\n\t\t\tfont-size: 14px;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t}\n\n\t\t.chat-image {\n\t\t\tdisplay: block;\n\t\t\tmax-width: 200px;\n\t\t\tmax-height: 100px;\n\t\t\tborder: 1px solid #e6e6e6;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t.chat-file-container {\n\t\t\tmax-width: 65%;\n\t\t\tpadding: 10px;\n\t\t\tborder: 2px solid #587ff0;\n\t\t\tdisplay: flex;\n\t\t\tbackground: #eeeC;\n\t\t\tborder-radius: 10px;\n\n\t\t\t.file-position-left {\n\t\t\t\tdisplay: flex;\n\t\t\t\twidth: 80px;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\n\t\t\t\t.el-icon-document {\n\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tcolor: #d42e07;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.file-position-right {\n\t\t\t\tflex: 1;\n\n\t\t\t\t.file-name {\n\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcolor: #66b1ff;\n\t\t\t\t}\n\n\t\t\t\t.file-size {\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.chat-at-user {\n\t\t\tcolor: #00f;\n\t\t\tborder-radius: 3px;\n\t\t}\n\t}\n\n\t.edit-chat-container>div:nth-of-type(1):after {\n\t\tcontent: '请输入消息（按Ctrl+Enter键换行）';\n\t\tcolor: gray;\n\t}\n\n\t.edit-chat-container.not-empty>div:nth-of-type(1):after {\n\t\tcontent: none;\n\t}\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatInput.vue?vue&type=template&id=993c9990\"\nimport script from \"./ChatInput.vue?vue&type=script&lang=js\"\nexport * from \"./ChatInput.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatInput.vue?vue&type=style&index=0&id=993c9990&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"chat-box\" @click=\"closeRefBox()\" @mousemove=\"readedMessage()\">\n\t\t<el-container>\n\t\t\t<el-header height=\"50px\">\n\t\t\t\t<span>{{ title }}</span>\n\t\t\t\t<span title=\"群聊信息\" v-show=\"this.chat.type == 'GROUP'\" class=\"btn-side el-icon-more\"\n\t\t\t\t\t@click=\"showSide = !showSide\"></span>\n\t\t\t</el-header>\n\t\t\t<el-main style=\"padding: 0;\">\n\t\t\t\t<el-container>\n\t\t\t\t\t<el-container class=\"content-box\">\n\t\t\t\t\t\t<el-main class=\"im-chat-main\" id=\"chatScrollBox\" @scroll=\"onScroll\">\n\t\t\t\t\t\t\t<div class=\"im-chat-box\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li v-for=\"(msgInfo, idx) in chat.messages\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t\t<chat-message-item v-if=\"idx >= showMinIdx\" @call=\"onCall(msgInfo.type)\"\n\t\t\t\t\t\t\t\t\t\t\t:mine=\"msgInfo.sendId == mine.id\" :headImage=\"headImage(msgInfo)\"\n\t\t\t\t\t\t\t\t\t\t\t:showName=\"showName(msgInfo)\" :msgInfo=\"msgInfo\"\n\t\t\t\t\t\t\t\t\t\t\t:groupMembers=\"groupMembers\" @delete=\"deleteMessage\"\n\t\t\t\t\t\t\t\t\t\t\t@recall=\"recallMessage\">\n\t\t\t\t\t\t\t\t\t\t</chat-message-item>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-main>\n\t\t\t\t\t\t<el-footer height=\"220px\" class=\"im-chat-footer\">\n\t\t\t\t\t\t\t<div class=\"chat-tool-bar\">\n\t\t\t\t\t\t\t\t<div title=\"表情\" class=\"icon iconfont icon-emoji\" ref=\"emotion\"\n\t\t\t\t\t\t\t\t\t@click.stop=\"showEmotionBox()\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送图片\">\n\t\t\t\t\t\t\t\t\t<file-upload :action=\"'/image/upload'\" :maxSize=\"5 * 1024 * 1024\"\n\t\t\t\t\t\t\t\t\t\t:fileTypes=\"['image/jpeg', 'image/png', 'image/jpg', 'image/webp', 'image/gif']\"\n\t\t\t\t\t\t\t\t\t\t@before=\"onImageBefore\" @success=\"onImageSuccess\" @fail=\"onImageFail\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-picture-outline\"></i>\n\t\t\t\t\t\t\t\t\t</file-upload>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送文件\">\n\t\t\t\t\t\t\t\t\t<file-upload ref=\"fileUpload\" :action=\"'/file/upload'\" :maxSize=\"10 * 1024 * 1024\"\n\t\t\t\t\t\t\t\t\t\t@before=\"onFileBefore\" @success=\"onFileSuccess\" @fail=\"onFileFail\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-wallet\"></i>\n\t\t\t\t\t\t\t\t\t</file-upload>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"回执消息\" v-show=\"chat.type == 'GROUP' && memberSize <= 500\"\n\t\t\t\t\t\t\t\t\tclass=\"icon iconfont icon-receipt\" :class=\"isReceipt ? 'chat-tool-active' : ''\"\n\t\t\t\t\t\t\t\t\t@click=\"onSwitchReceipt\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送语音\" class=\"el-icon-microphone\" @click=\"showRecordBox()\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"聊天记录\" class=\"el-icon-chat-dot-round\" @click=\"showHistoryBox()\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"send-content-area\">\n\t\t\t\t\t\t\t\t<ChatInput :ownerId=\"group.ownerId\" ref=\"chatInputEditor\" :group-members=\"groupMembers\"\n\t\t\t\t\t\t\t\t\t@submit=\"sendMessage\" />\n\t\t\t\t\t\t\t\t<div class=\"send-btn-area\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-s-promotion\"\n\t\t\t\t\t\t\t\t\t\t@click=\"notifySend()\">发送</el-button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-footer>\n\t\t\t\t\t</el-container>\n\t\t\t\t\t<el-aside class=\"chat-group-side-box\" width=\"320px\" v-if=\"showSide\">\n\t\t\t\t\t\t<chat-group-side :group=\"group\" :groupMembers=\"groupMembers\" @reload=\"loadGroup(group.id)\">\n\t\t\t\t\t\t</chat-group-side>\n\t\t\t\t\t</el-aside>\n\t\t\t\t</el-container>\n\t\t\t</el-main>\n\t\t\t<emotion ref=\"emoBox\" @emotion=\"onEmotion\"></Emotion>\n\t\t\t<chat-record :visible=\"showRecord\" @close=\"closeRecordBox\" @send=\"onSendRecord\"></chat-record>\n\t\t\t<chat-history :visible=\"showHistory\" :chat=\"chat\" :friend=\"friend\" :group=\"group\"\n\t\t\t\t:groupMembers=\"groupMembers\" @close=\"closeHistoryBox\"></chat-history>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\nimport ChatGroupSide from \"./ChatGroupSide.vue\";\nimport ChatMessageItem from \"./ChatMessageItem.vue\";\nimport FileUpload from \"../common/FileUpload.vue\";\nimport Emotion from \"../common/Emotion.vue\";\nimport ChatRecord from \"./ChatRecord.vue\";\nimport ChatHistory from \"./ChatHistory.vue\";\nimport ChatAtBox from \"./ChatAtBox.vue\"\nimport GroupMemberSelector from \"../group/GroupMemberSelector.vue\"\nimport ChatInput from \"./ChatInput\";\n\n\nexport default {\n\tname: \"chatPrivate\",\n\tcomponents: {\n\t\tChatInput,\n\t\tChatMessageItem,\n\t\tFileUpload,\n\t\tChatGroupSide,\n\t\tEmotion,\n\t\tChatRecord,\n\t\tChatHistory,\n\t\tChatAtBox,\n\t\tGroupMemberSelector,\n\t},\n\tprops: {\n\t\tchat: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuserInfo: {},\n\t\t\tgroup: {},\n\t\t\tgroupMembers: [],\n\t\t\tsendImageUrl: \"\",\n\t\t\tsendImageFile: \"\",\n\t\t\tplaceholder: \"\",\n\t\t\tisReceipt: true,\n\t\t\tshowRecord: false, // 是否显示语音录制弹窗\n\t\t\tshowSide: false, // 是否显示群聊信息栏\n\t\t\tshowHistory: false, // 是否显示历史聊天记录\n\t\t\tlockMessage: false, // 是否锁定发送，\n\t\t\tshowMinIdx: 0, // 下标低于showMinIdx的消息不显示，否则页面会很卡置\n\t\t\treqQueue: [],\n\t\t\tisSending: false\n\t\t}\n\t},\n\tmethods: {\n\t\tmoveChatToTop() {\n\t\t\tlet chatIdx = this.$store.getters.findChatIdx(this.chat);\n\t\t\tthis.$store.commit(\"moveTop\", chatIdx);\n\t\t},\n\t\tcloseRefBox() {\n\t\t\tthis.$refs.emoBox.close();\n\t\t\t// this.$refs.atBox.close();\n\t\t},\n\t\tonCall(type) {\n\t\t\tif (type == this.$enums.MESSAGE_TYPE.ACT_RT_VOICE) {\n\t\t\t\tthis.showPrivateVideo('voice');\n\t\t\t} else if (type == this.$enums.MESSAGE_TYPE.ACT_RT_VIDEO) {\n\t\t\t\tthis.showPrivateVideo('video');\n\t\t\t}\n\t\t},\n\t\tonSwitchReceipt() {\n\t\t\tthis.isReceipt = !this.isReceipt;\n\t\t\tthis.refreshPlaceHolder();\n\t\t},\n\t\tonImageSuccess(data, file) {\n\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\tmsgInfo.content = JSON.stringify(data);\n\t\t\tmsgInfo.receipt = this.isReceipt;\n\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\tmsgInfo.loadStatus = 'ok';\n\t\t\t\tmsgInfo.id = m.id;\n\t\t\t\tthis.isReceipt = false;\n\t\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, file.chat]);\n\t\t\t})\n\t\t},\n\t\tonImageFail(e, file) {\n\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\tmsgInfo.loadStatus = 'fail';\n\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, file.chat]);\n\t\t},\n\t\tonImageBefore(file) {\n\t\t\t// 被封禁提示\n\t\t\tif (this.isBanned) {\n\t\t\t\tthis.showBannedTip();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet url = URL.createObjectURL(file);\n\t\t\tlet data = {\n\t\t\t\toriginUrl: url,\n\t\t\t\tthumbUrl: url\n\t\t\t}\n\t\t\tlet msgInfo = {\n\t\t\t\tid: 0,\n\t\t\t\ttmpId: this.generateId(),\n\t\t\t\tfileId: file.uid,\n\t\t\t\tsendId: this.mine.id,\n\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\tsendTime: new Date().getTime(),\n\t\t\t\tselfSend: true,\n\t\t\t\ttype: 1,\n\t\t\t\treadedCount: 0,\n\t\t\t\tloadStatus: \"loading\",\n\t\t\t\tstatus: this.$enums.MESSAGE_STATUS.UNSEND\n\t\t\t}\n\t\t\t// 填充对方id\n\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t// 插入消息\n\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, this.chat]);\n\t\t\t// 会话置顶\n\t\t\tthis.moveChatToTop();\n\t\t\t// 滚动到底部\n\t\t\tthis.scrollToBottom();\n\t\t\t// 借助file对象保存\n\t\t\tfile.msgInfo = msgInfo;\n\t\t\tfile.chat = this.chat;\n\t\t},\n\t\tonFileSuccess(url, file) {\n\t\t\tlet data = {\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\turl: url\n\t\t\t}\n\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\tmsgInfo.content = JSON.stringify(data);\n\t\t\tmsgInfo.receipt = this.isReceipt\n\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\tmsgInfo.loadStatus = 'ok';\n\t\t\t\tmsgInfo.id = m.id;\n\t\t\t\tthis.isReceipt = false;\n\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, file.chat]);\n\t\t\t})\n\t\t},\n\t\tonFileFail(e, file) {\n\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\tmsgInfo.loadStatus = 'fail';\n\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, file.chat]);\n\t\t},\n\t\tonFileBefore(file) {\n\t\t\t// 被封禁提示\n\t\t\tif (this.isBanned) {\n\t\t\t\tthis.showBannedTip();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet url = URL.createObjectURL(file);\n\t\t\tlet data = {\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\turl: url\n\t\t\t}\n\t\t\tlet msgInfo = {\n\t\t\t\tid: 0,\n\t\t\t\ttmpId: this.generateId(),\n\t\t\t\tsendId: this.mine.id,\n\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\tsendTime: new Date().getTime(),\n\t\t\t\tselfSend: true,\n\t\t\t\ttype: 2,\n\t\t\t\tloadStatus: \"loading\",\n\t\t\t\treadedCount: 0,\n\t\t\t\tstatus: this.$enums.MESSAGE_STATUS.UNSEND\n\t\t\t}\n\t\t\t// 填充对方id\n\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t// 插入消息\n\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, this.chat]);\n\t\t\t// 会话置顶\n\t\t\tthis.moveChatToTop();\n\t\t\t// 滚动到底部\n\t\t\tthis.scrollToBottom();\n\t\t\t// 借助file对象透传\n\t\t\tfile.msgInfo = msgInfo;\n\t\t\tfile.chat = this.chat;\n\t\t},\n\t\tonCloseSide() {\n\t\t\tthis.showSide = false;\n\t\t},\n\t\tonScrollToTop() {\n\t\t\t// 多展示10条信息\n\t\t\tthis.showMinIdx = this.showMinIdx > 10 ? this.showMinIdx - 10 : 0;\n\t\t},\n\t\tonScroll(e) {\n\t\t\tlet scrollElement = e.target\n\t\t\tlet scrollTop = scrollElement.scrollTop\n\t\t\tif (scrollTop < 30) { // 在顶部,不滚动的情况\n\t\t\t\t// 多展示20条信息\n\t\t\t\tthis.showMinIdx = this.showMinIdx > 20 ? this.showMinIdx - 20 : 0;\n\t\t\t}\n\t\t},\n\t\tshowEmotionBox() {\n\t\t\tlet width = this.$refs.emotion.offsetWidth;\n\t\t\tlet left = this.$elm.fixLeft(this.$refs.emotion);\n\t\t\tlet top = this.$elm.fixTop(this.$refs.emotion);\n\t\t\tthis.$refs.emoBox.open({\n\t\t\t\tx: left + width / 2,\n\t\t\t\ty: top\n\t\t\t})\n\t\t},\n\t\tonEmotion(emoText) {\n\t\t\tthis.$refs.chatInputEditor.insertEmoji(emoText);\n\t\t},\n\t\tshowRecordBox() {\n\t\t\tthis.showRecord = true;\n\t\t},\n\t\tcloseRecordBox() {\n\t\t\tthis.showRecord = false;\n\t\t},\n\t\tshowHistoryBox() {\n\t\t\tthis.showHistory = true;\n\t\t},\n\t\tcloseHistoryBox() {\n\t\t\tthis.showHistory = false;\n\t\t},\n\t\tonSendRecord(data) {\n\t\t\t// 检查是否被封禁\n\t\t\tif (this.isBanned) {\n\t\t\t\tthis.showBannedTip();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet msgInfo = {\n\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\ttype: 3,\n\t\t\t\treceipt: this.isReceipt\n\t\t\t}\n\t\t\t// 填充对方id\n\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\tm.selfSend = true;\n\t\t\t\tthis.$store.commit(\"insertMessage\", [m, this.chat]);\n\t\t\t\t// 会话置顶\n\t\t\t\tthis.moveChatToTop();\n\t\t\t\t// 保持输入框焦点\n\t\t\t\tthis.$refs.chatInputEditor.focus();\n\t\t\t\t// 滚动到底部\n\t\t\t\tthis.scrollToBottom();\n\t\t\t\t// 关闭录音窗口\n\t\t\t\tthis.showRecord = false;\n\t\t\t\tthis.isReceipt = false;\n\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t})\n\t\t},\n\t\tfillTargetId(msgInfo, targetId) {\n\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\tmsgInfo.groupId = targetId;\n\t\t\t} else {\n\t\t\t\tmsgInfo.recvId = targetId;\n\t\t\t}\n\t\t},\n\t\tnotifySend() {\n\t\t\tthis.$refs.chatInputEditor.submit();\n\t\t},\n\t\tasync sendMessage(fullList) {\n\t\t\tthis.resetEditor();\n\t\t\tthis.readedMessage();\n\t\t\t// 检查是否被封禁\n\t\t\tif (this.isBanned) {\n\t\t\t\tthis.showBannedTip();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet sendText = this.isReceipt ? \"【回执消息】\" : \"\";\n\t\t\tlet promiseList = [];\n\t\t\tfor (let i = 0; i < fullList.length; i++) {\n\t\t\t\tlet msg = fullList[i];\n\t\t\t\tswitch (msg.type) {\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\tawait this.sendTextMessage(sendText + msg.content, msg.atUserIds);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"image\":\n\t\t\t\t\t\tawait this.sendImageMessage(msg.content.file);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"file\":\n\t\t\t\t\t\tawait this.sendFileMessage(msg.content.file);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\t\tsendImageMessage(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.onImageBefore(file);\n\t\t\t\tlet formData = new FormData()\n\t\t\t\tformData.append('file', file)\n\t\t\t\tthis.$http.post(\"/image/upload\", formData, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t}\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tthis.onImageSuccess(data, file);\n\t\t\t\t\tresolve();\n\t\t\t\t}).catch((res) => {\n\t\t\t\t\tthis.onImageFail(res, file);\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t\tthis.$nextTick(() => this.$refs.chatInputEditor.focus());\n\t\t\t\tthis.scrollToBottom();\n\t\t\t});\n\t\t},\n\t\tsendTextMessage(sendText, atUserIds) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (!sendText.trim()) {\n\t\t\t\t\treject();\n\t\t\t\t}\n\t\t\t\tlet msgInfo = {\n\t\t\t\t\tcontent: sendText,\n\t\t\t\t\ttype: 0\n\t\t\t\t}\n\t\t\t\t// 填充对方id\n\t\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t\t// 被@人员列表\n\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\tmsgInfo.atUserIds = atUserIds;\n\t\t\t\t\tmsgInfo.receipt = this.isReceipt;\n\t\t\t\t}\n\t\t\t\tthis.lockMessage = true;\n\t\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\t\tm.selfSend = true;\n\t\t\t\t\tthis.$store.commit(\"insertMessage\", [m, this.chat]);\n\t\t\t\t\t// 会话置顶\n\t\t\t\t\tthis.moveChatToTop();\n\t\t\t\t}).finally(() => {\n\t\t\t\t\t// 解除锁定\n\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsendFileMessage(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet check = this.$refs.fileUpload.beforeUpload(file);\n\t\t\t\tif (check) {\n\t\t\t\t\tthis.$refs.fileUpload.onFileUpload({ file });\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tdeleteMessage(msgInfo) {\n\t\t\tthis.$confirm('确认删除消息?', '删除消息', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$store.commit(\"deleteMessage\", msgInfo);\n\t\t\t});\n\t\t},\n\t\trecallMessage(msgInfo) {\n\t\t\tthis.$confirm('确认撤回消息?', '撤回消息', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tlet url = `/message/${this.chat.type.toLowerCase()}/recall/${msgInfo.id}`\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: url,\n\t\t\t\t\tmethod: 'delete'\n\t\t\t\t}).then((m) => {\n\t\t\t\t\tthis.$message.success(\"消息已撤回\");\n\t\t\t\t\tm.selfSend = true;\n\t\t\t\t\tthis.$store.commit(\"recallMessage\", [m, this.chat]);\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\treadedMessage() {\n\t\t\tif (this.chat.unreadCount == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$store.commit(\"resetUnreadCount\", this.chat)\n\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\tvar url = `/message/group/readed?groupId=${this.chat.targetId}`\n\t\t\t} else {\n\t\t\t\turl = `/message/private/readed?friendId=${this.chat.targetId}`\n\t\t\t}\n\t\t\tthis.$http({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'put'\n\t\t\t}).then(() => {})\n\t\t},\n\t\tloadReaded(fId) {\n\t\t\tthis.$http({\n\t\t\t\turl: `/message/private/maxReadedId?friendId=${fId}`,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then((id) => {\n\t\t\t\tthis.$store.commit(\"readedMessage\", {\n\t\t\t\t\tfriendId: fId,\n\t\t\t\t\tmaxId: id\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadGroup(groupId) {\n\t\t\tthis.$http({\n\t\t\t\turl: `/group/find/${groupId}`,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then((group) => {\n\t\t\t\tthis.group = group;\n\t\t\t\tthis.$store.commit(\"updateChatFromGroup\", group);\n\t\t\t\tthis.$store.commit(\"updateGroup\", group);\n\t\t\t});\n\n\t\t\tthis.$http({\n\t\t\t\turl: `/group/members/${groupId}`,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then((groupMembers) => {\n\t\t\t\tthis.groupMembers = groupMembers;\n\t\t\t});\n\t\t},\n\t\tupdateFriendInfo() {\n\t\t\tif (this.isFriend) {\n\t\t\t\t// store的数据不能直接修改，深拷贝一份store的数据\n\t\t\t\tlet friend = JSON.parse(JSON.stringify(this.friend));\n\t\t\t\tfriend.headImage = this.userInfo.headImageThumb;\n\t\t\t\tfriend.nickName = this.userInfo.nickName;\n\t\t\t\tfriend.showNickName = friend.remarkNickName ? friend.remarkNickName : friend.nickName;\n\t\t\t\tthis.$store.commit(\"updateChatFromFriend\", friend);\n\t\t\t\tthis.$store.commit(\"updateFriend\", friend);\n\t\t\t} else {\n\t\t\t\tthis.$store.commit(\"updateChatFromUser\", this.userInfo);\n\t\t\t}\n\t\t},\n\t\tloadFriend(friendId) {\n\t\t\t// 获取好友信息\n\t\t\tthis.$http({\n\t\t\t\turl: `/user/find/${friendId}`,\n\t\t\t\tmethod: 'GET'\n\t\t\t}).then((userInfo) => {\n\t\t\t\tthis.userInfo = userInfo;\n\t\t\t\tthis.updateFriendInfo();\n\t\t\t})\n\t\t},\n\t\tshowName(msgInfo) {\n\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\treturn member ? member.showNickName : \"\";\n\t\t\t} else {\n\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.nickName : this.chat.showName\n\t\t\t}\n\n\t\t},\n\t\theadImage(msgInfo) {\n\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\treturn member ? member.headImage : \"\";\n\t\t\t} else {\n\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.headImageThumb : this.chat.headImage\n\t\t\t}\n\t\t},\n\t\tresetEditor() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs.chatInputEditor.clear();\n\t\t\t\tthis.$refs.chatInputEditor.focus();\n\t\t\t});\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tlet div = document.getElementById(\"chatScrollBox\");\n\t\t\t\tdiv.scrollTop = div.scrollHeight;\n\t\t\t});\n\t\t},\n\t\trefreshPlaceHolder() {\n\t\t\tif (this.isReceipt) {\n\t\t\t\tthis.placeholder = \"【回执消息】\"\n\t\t\t} else if (this.$refs.editBox && this.$refs.editBox.innerHTML) {\n\t\t\t\tthis.placeholder = \"\"\n\t\t\t} else {\n\t\t\t\tthis.placeholder = \"聊点什么吧~\";\n\t\t\t}\n\t\t},\n\t\tsendMessageRequest(msgInfo) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t// 请求入队列，防止请求\"后发先至\"，导致消息错序\n\t\t\t\tthis.reqQueue.push({ msgInfo, resolve, reject });\n\t\t\t\tthis.processReqQueue();\n\t\t\t})\n\t\t},\n\t\tprocessReqQueue() {\n\t\t\tif (this.reqQueue.length && !this.isSending) {\n\t\t\t\tthis.isSending = true;\n\t\t\t\tconst reqData = this.reqQueue.shift();\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: this.messageAction,\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: reqData.msgInfo\n\t\t\t\t}).then((res) => {\n\t\t\t\t\treqData.resolve(res)\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\treqData.reject(e)\n\t\t\t\t}).finally(() => {\n\t\t\t\t\tthis.isSending = false;\n\t\t\t\t\t// 发送下一条请求\n\t\t\t\t\tthis.processReqQueue();\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tshowBannedTip() {\n\t\t\tlet msgInfo = {\n\t\t\t\ttmpId: this.generateId(),\n\t\t\t\tsendId: this.mine.id,\n\t\t\t\tsendTime: new Date().getTime(),\n\t\t\t\ttype: this.$enums.MESSAGE_TYPE.TIP_TEXT\n\t\t\t}\n\t\t\tif (this.chat.type == \"PRIVATE\") {\n\t\t\t\tmsgInfo.recvId = this.mine.id\n\t\t\t\tmsgInfo.content = \"该用户已被管理员封禁,原因:\" + this.userInfo.reason\n\t\t\t} else {\n\t\t\t\tmsgInfo.groupId = this.group.id;\n\t\t\t\tmsgInfo.content = \"本群聊已被管理员封禁,原因:\" + this.group.reason\n\t\t\t}\n\t\t\tthis.$store.commit(\"insertMessage\", [msgInfo, this.chat]);\n\t\t},\n\t\tgenerateId() {\n\t\t\t// 生成临时id\n\t\t\treturn String(new Date().getTime()) + String(Math.floor(Math.random() * 1000));\n\t\t}\n\t},\n\tcomputed: {\n\t\tmine() {\n\t\t\treturn this.$store.state.userStore.userInfo;\n\t\t},\n\t\tisFriend() {\n\t\t\treturn this.$store.getters.isFriend(this.userInfo.id);\n\t\t},\n\t\tfriend() {\n\t\t\treturn this.$store.getters.findFriend(this.userInfo.id)\n\t\t},\n\t\ttitle() {\n\t\t\tlet title = this.chat.showName;\n\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\tlet size = this.groupMembers.filter(m => !m.quit).length;\n\t\t\t\ttitle += `(${size})`;\n\t\t\t}\n\t\t\treturn title;\n\t\t},\n\t\tmessageAction() {\n\t\t\treturn `/message/${this.chat.type.toLowerCase()}/send`;\n\t\t},\n\t\tunreadCount() {\n\t\t\treturn this.chat.unreadCount;\n\t\t},\n\t\tmessageSize() {\n\t\t\tif (!this.chat || !this.chat.messages) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn this.chat.messages.length;\n\t\t},\n\t\tisBanned() {\n\t\t\treturn (this.chat.type == \"PRIVATE\" && this.userInfo.isBanned) ||\n\t\t\t\t(this.chat.type == \"GROUP\" && this.group.isBanned)\n\t\t},\n\t\tmemberSize() {\n\t\t\treturn this.groupMembers.filter(m => !m.quit).length;\n\t\t}\n\t},\n\twatch: {\n\t\tchat: {\n\t\t\thandler(newChat, oldChat) {\n\t\t\t\tif (newChat.targetId > 0 && (!oldChat || newChat.type != oldChat.type ||\n\t\t\t\t\t\tnewChat.targetId != oldChat.targetId)) {\n\t\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\t\tthis.loadGroup(this.chat.targetId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadFriend(this.chat.targetId);\n\t\t\t\t\t\t// 加载已读状态\n\t\t\t\t\t\tthis.loadReaded(this.chat.targetId)\n\t\t\t\t\t}\n\t\t\t\t\t// 滚到底部\n\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\tthis.showSide = false;\n\t\t\t\t\t// 消息已读\n\t\t\t\t\tthis.readedMessage()\n\t\t\t\t\t// 初始状态只显示30条消息\n\t\t\t\t\tlet size = this.chat.messages.length;\n\t\t\t\t\tthis.showMinIdx = size > 30 ? size - 30 : 0;\n\t\t\t\t\t// 重置输入框\n\t\t\t\t\tthis.resetEditor();\n\t\t\t\t\t// 复位回执消息\n\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\t// 更新placeholder\n\t\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t\t}\n\t\t\t},\n\t\t\timmediate: true\n\t\t},\n\t\tmessageSize: {\n\t\t\thandler(newSize, oldSize) {\n\t\t\t\tif (newSize > oldSize) {\n\t\t\t\t\t// 拉至底部\n\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tlet div = document.getElementById(\"chatScrollBox\");\n\t\tdiv.addEventListener('scroll', this.onScroll)\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.chat-box {\n\tposition: relative;\n\twidth: 100%;\n\tbackground: #fff;\n\n\t.el-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 0 12px;\n\t\tline-height: 50px;\n\t\tfont-size: var(--im-font-size-larger);\n\t\tborder-bottom: var(--im-border);\n\n\n\t\t.btn-side {\n\t\t\tposition: absolute;\n\t\t\tright: 20px;\n\t\t\tline-height: 50px;\n\t\t\tfont-size: 20px;\n\t\t\tcursor: pointer;\n\t\t\tcolor: var(--im-text-color-light);\n\t\t}\n\t}\n\n\t.im-chat-main {\n\t\tpadding: 0;\n\t\tbackground-color: #fff;\n\n\t\t.im-chat-box {\n\t\t\t>ul {\n\t\t\t\tpadding: 0 20px;\n\n\t\t\t\tli {\n\t\t\t\t\tlist-style-type: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.im-chat-footer {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 0;\n\n\t\t.chat-tool-bar {\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 36px;\n\t\t\ttext-align: left;\n\t\t\tbox-sizing: border-box;\n\t\t\tborder-top: var(--im-border);\n\t\t\tpadding: 4px 2px 2px 8px;\n\n\t\t\t>div {\n\t\t\t\tfont-size: 22px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tline-height: 30px;\n\t\t\t\twidth: 30px;\n\t\t\t\theight: 30px;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder-radius: 2px;\n\t\t\t\tmargin-right: 8px;\n\t\t\t\tcolor: #999;\n\t\t\t\ttransition: 0.3s;\n\n\t\t\t\t&.chat-tool-active {\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcolor: var(--im-color-primary);\n\t\t\t\t\tbackground-color: #ddd;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t>div:hover {\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t}\n\n\t\t.send-content-area {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\theight: 100%;\n\t\t\tbackground-color: white !important;\n\n\t\t\t.send-btn-area {\n\t\t\t\tpadding: 10px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 4px;\n\t\t\t\tright: 6px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.chat-group-side-box {\n\t\tborder-left: var(--im-border);\n\t\t//animation: rtl-drawer-in .3s 1ms;\n\t}\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatBox.vue?vue&type=template&id=58bf2537\"\nimport script from \"./ChatBox.vue?vue&type=script&lang=js\"\nexport * from \"./ChatBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatBox.vue?vue&type=style&index=0&id=58bf2537&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container class=\"chat-page\">\n    <el-aside width=\"260px\" class=\"chat-list-box\">\n      <div class=\"chat-list-header\">\n        <el-input class=\"search-text\" size=\"small\" placeholder=\"搜索\" v-model=\"searchText\">\n          <i class=\"el-icon-search el-input__icon\" slot=\"prefix\"> </i>\n        </el-input>\n      </div>\n      <div class=\"chat-list-loading\" v-if=\"loading\" v-loading=\"true\" element-loading-text=\"消息接收中...\"\n        element-loading-spinner=\"el-icon-loading\" element-loading-background=\"#F9F9F9\" element-loading-size=\"24\">\n      </div>\n      <el-scrollbar class=\"chat-list-items\" v-else>\n        <div v-for=\"(chat, index) in chatStore.chats\" :key=\"index\">\n          <chat-item v-show=\"!chat.delete && chat.showName && chat.showName.includes(searchText)\" :chat=\"chat\" :index=\"index\"\n            @click.native=\"onActiveItem(index)\" @delete=\"onDelItem(index)\" @top=\"onTop(index)\"\n            :active=\"chat === chatStore.activeChat\"></chat-item>\n        </div>\n      </el-scrollbar>\n    </el-aside>\n    <el-container class=\"chat-box\">\n      <chat-box v-if=\"chatStore.activeChat\" :chat=\"chatStore.activeChat\"></chat-box>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport ChatItem from \"../components/chat/ChatItem.vue\";\nimport ChatBox from \"../components/chat/ChatBox.vue\";\n\nexport default {\n  name: \"chat\",\n  components: {\n    ChatItem,\n    ChatBox\n  },\n  data() {\n    return {\n      searchText: \"\",\n      messageContent: \"\",\n      group: {},\n      groupMembers: []\n    }\n  },\n  methods: {\n    onActiveItem(index) {\n      this.$store.commit(\"activeChat\", index);\n    },\n    onDelItem(index) {\n      this.$store.commit(\"removeChat\", index);\n    },\n    onTop(chatIdx) {\n      this.$store.commit(\"moveTop\", chatIdx);\n    },\n  },\n  computed: {\n    chatStore() {\n      return this.$store.state.chatStore;\n    },\n    loading() {\n      return this.chatStore.loadingGroupMsg || this.chatStore.loadingPrivateMsg\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.chat-page {\n  .chat-list-box {\n    display: flex;\n    flex-direction: column;\n    background: var(--im-background);\n\n    .chat-list-header {\n      height: 50px;\n      display: flex;\n      align-items: center;\n      padding: 0 8px;\n    }\n\n    .chat-list-loading {\n      height: 50px;\n      background-color: #eee;\n\n      .el-icon-loading {\n        font-size: 24px;\n        color: var(--im-text-color-light);\n      }\n\n      .el-loading-text {\n        color: var(--im-text-color-light);\n      }\n\n      .chat-loading-box {\n        height: 100%;\n      }\n    }\n\n    .chat-list-items {\n      flex: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=1d6013e9\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=1d6013e9&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=1d6013e9&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRecord.vue?vue&type=style&index=0&id=4f16842b&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FriendItem.vue?vue&type=style&index=0&id=5781df0a&prod&scope=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessageItem.vue?vue&type=style&index=0&id=f518f92e&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatItem.vue?vue&type=style&index=0&id=67cc68d2&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=style&index=0&id=98e9470e&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberItem.vue?vue&type=style&index=0&id=ee848b34&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Emotion.vue?vue&type=style&index=0&id=0592fba6&prod&scoped=true&lang=scss\"","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMemberSelector.vue?vue&type=style&index=0&id=5722585a&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatAtBox.vue?vue&type=style&index=0&id=3e4833d6&prod&scoped=true&lang=scss\"","/*!\r\n * \r\n * js-audio-recorder - js audio recorder plugin\r\n * \r\n * @version v1.0.7\r\n * @homepage https://github.com/2fps/recorder\r\n * @author 2fps <echoweb@126.com> (https://www.zhuyuntao.cn)\r\n * @license MIT\r\n *         \r\n */\r\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Recorder=e():t.Recorder=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e,n){\"use strict\";function i(t,e,n){for(var i=0;i<n.length;i++)t.setUint8(e+i,n.charCodeAt(i))}Object.defineProperty(e,\"__esModule\",{value:!0}),e.compress=function(t,e,n){for(var i=e/n,o=Math.max(i,1),r=t.left,a=t.right,s=Math.floor((r.length+a.length)/i),u=new Float32Array(s),c=0,l=0;c<s;){var f=Math.floor(l);u[c]=r[f],c++,a.length&&(u[c]=a[f],c++),l+=o}return u},e.encodePCM=function(t,e,n){void 0===n&&(n=!0);var i=0,o=t.length*(e/8),r=new ArrayBuffer(o),a=new DataView(r);if(8===e)for(var s=0;s<t.length;s++,i++){var u=(c=Math.max(-1,Math.min(1,t[s])))<0?128*c:127*c;u=+u+128,a.setInt8(i,u)}else for(s=0;s<t.length;s++,i+=2){var c=Math.max(-1,Math.min(1,t[s]));a.setInt16(i,c<0?32768*c:32767*c,n)}return a},e.encodeWAV=function(t,e,n,o,r,a){void 0===a&&(a=!0);var s=n>e?e:n,u=r,c=new ArrayBuffer(44+t.byteLength),l=new DataView(c),f=o,p=0;i(l,p,\"RIFF\"),p+=4,l.setUint32(p,36+t.byteLength,a),i(l,p+=4,\"WAVE\"),i(l,p+=4,\"fmt \"),p+=4,l.setUint32(p,16,a),p+=4,l.setUint16(p,1,a),p+=2,l.setUint16(p,f,a),p+=2,l.setUint32(p,s,a),p+=4,l.setUint32(p,f*s*(u/8),a),p+=4,l.setUint16(p,f*(u/8),a),p+=2,l.setUint16(p,u,a),i(l,p+=2,\"data\"),p+=4,l.setUint32(p,t.byteLength,a),p+=4;for(var d=0;d<t.byteLength;)l.setUint8(p,t.getUint8(d)),p++,d++;return l}},function(t,e,n){\"use strict\";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2),a=n(0),s=n(3),u=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.isrecording=!1,n.ispause=!1,n.isplaying=!1,n}return o(e,t),e.prototype.setOption=function(t){void 0===t&&(t={}),this.setNewOption(t)},e.prototype.start=function(){return this.isrecording?Promise.reject():(this.isrecording=!0,this.startRecord())},e.prototype.pause=function(){this.isrecording&&!this.ispause&&(this.ispause=!0,this.pauseRecord())},e.prototype.resume=function(){this.isrecording&&this.ispause&&(this.ispause=!1,this.resumeRecord())},e.prototype.stop=function(){this.isrecording&&(this.isrecording=!1,this.ispause=!1,this.stopRecord())},e.prototype.play=function(){this.stop(),this.isplaying=!0,this.onplay&&this.onplay(),s.default.addPlayEnd(this.onplayend);var t=this.getWAV();t.byteLength>44&&s.default.play(t.buffer)},e.prototype.getPlayTime=function(){return s.default.getPlayTime()},e.prototype.pausePlay=function(){!this.isrecording&&this.isplaying&&(this.isplaying=!1,this.onpauseplay&&this.onpauseplay(),s.default.pausePlay())},e.prototype.resumePlay=function(){this.isrecording||this.isplaying||(this.isplaying=!0,this.onresumeplay&&this.onresumeplay(),s.default.resumePlay())},e.prototype.stopPlay=function(){this.isrecording||(this.isplaying=!1,this.onstopplay&&this.onstopplay(),s.default.stopPlay())},e.prototype.destroy=function(){return s.default.destroyPlay(),this.destroyRecord()},e.prototype.getRecordAnalyseData=function(){return this.getAnalyseData()},e.prototype.getPlayAnalyseData=function(){return s.default.getAnalyseData()},e.prototype.getPCM=function(){this.stop();var t=this.getData();return t=a.compress(t,this.inputSampleRate,this.outputSampleRate),a.encodePCM(t,this.oututSampleBits,this.littleEdian)},e.prototype.getPCMBlob=function(){return new Blob([this.getPCM()])},e.prototype.downloadPCM=function(t){void 0===t&&(t=\"recorder\");var e=this.getPCMBlob();r.downloadPCM(e,t)},e.prototype.getWAV=function(){var t=this.getPCM();return a.encodeWAV(t,this.inputSampleRate,this.outputSampleRate,this.config.numChannels,this.oututSampleBits,this.littleEdian)},e.prototype.getWAVBlob=function(){return new Blob([this.getWAV()],{type:\"audio/wav\"})},e.prototype.downloadWAV=function(t){void 0===t&&(t=\"recorder\");var e=this.getWAVBlob();r.downloadWAV(e,t)},e.prototype.download=function(t,e,n){r.download(t,e,n)},e.prototype.getChannelData=function(){var t=this.getPCM(),e=t.byteLength,n=this.littleEdian,i={left:null,right:null};if(2===this.config.numChannels){var o=new DataView(new ArrayBuffer(e/2)),r=new DataView(new ArrayBuffer(e/2));if(16===this.config.sampleBits)for(var a=0;a<e/2;a+=2)o.setInt16(a,t.getInt16(2*a,n),n),r.setInt16(a,t.getInt16(2*a+2,n),n);else for(a=0;a<e/2;a+=2)o.setInt8(a,t.getInt8(2*a)),r.setInt8(a,t.getInt8(2*a+1));i.left=o,i.right=r}else i.left=t;return i},e}(n(5).default);e.default=u},function(t,e,n){\"use strict\";function i(t,e,n){var i=document.createElement(\"a\");i.href=window.URL.createObjectURL(t),i.download=e+\".\"+n,i.click()}Object.defineProperty(e,\"__esModule\",{value:!0}),e.downloadWAV=function(t,e){void 0===e&&(e=\"recorder\"),i(t,e,\"wav\")},e.downloadPCM=function(t,e){void 0===e&&(e=\"recorder\"),i(t,e,\"pcm\")},e.download=function(t,e,n){return i(t,e,n)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(4),o=null,r=0,a=0,s=null,u=null,c=null,l=!1,f=0,p=function(){};function d(){return l=!1,s.decodeAudioData(c.slice(0),function(t){(o=s.createBufferSource()).onended=function(){l||(f=s.currentTime-a+r,p())},o.buffer=t,o.connect(u),u.connect(s.destination),o.start(0,r),a=s.currentTime},function(t){i.throwError(t)})}function h(){o&&(o.stop(),o=null)}var y=function(){function t(){}return t.play=function(t){return s||(s=new(window.AudioContext||window.webkitAudioContext),(u=s.createAnalyser()).fftSize=2048),this.stopPlay(),c=t,f=0,d()},t.pausePlay=function(){h(),r+=s.currentTime-a,l=!0},t.resumePlay=function(){return d()},t.stopPlay=function(){r=0,c=null,h()},t.destroyPlay=function(){this.stopPlay()},t.getAnalyseData=function(){var t=new Uint8Array(u.frequencyBinCount);return u.getByteTimeDomainData(t),t},t.addPlayEnd=function(t){void 0===t&&(t=function(){}),p=t},t.getPlayTime=function(){var t=l?r:s.currentTime-a+r;return f||t},t}();e.default=y},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.throwError=function(t){throw new Error(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=function(){function t(e){void 0===e&&(e={}),this.size=0,this.lBuffer=[],this.rBuffer=[],this.tempPCM=[],this.inputSampleBits=16,this.fileSize=0,this.duration=0,this.needRecord=!0;var n,i=new(window.AudioContext||window.webkitAudioContext);this.inputSampleRate=i.sampleRate,this.setNewOption(e),this.littleEdian=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),256===new Int16Array(n)[0]),t.initUserMedia()}return t.prototype.setNewOption=function(t){void 0===t&&(t={}),this.config={sampleBits:~[8,16].indexOf(t.sampleBits)?t.sampleBits:16,sampleRate:~[8e3,11025,16e3,22050,24e3,44100,48e3].indexOf(t.sampleRate)?t.sampleRate:this.inputSampleRate,numChannels:~[1,2].indexOf(t.numChannels)?t.numChannels:1},this.outputSampleRate=this.config.sampleRate,this.oututSampleBits=this.config.sampleBits},t.prototype.startRecord=function(){var t=this;return this.context&&this.destroyRecord(),this.initRecorder(),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){t.audioInput=t.context.createMediaStreamSource(e),t.stream=e}).then(function(){t.audioInput.connect(t.analyser),t.analyser.connect(t.recorder),t.recorder.connect(t.context.destination)})},t.prototype.pauseRecord=function(){this.needRecord=!1},t.prototype.resumeRecord=function(){this.needRecord=!0},t.prototype.stopRecord=function(){this.audioInput&&this.audioInput.disconnect(),this.source&&this.source.stop(),this.recorder.disconnect(),this.analyser.disconnect(),this.needRecord=!0},t.prototype.destroyRecord=function(){return this.clearRecordStatus(),this.stopStream(),this.closeAudioContext()},t.prototype.getAnalyseData=function(){var t=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteTimeDomainData(t),t},t.prototype.getData=function(){return this.flat()},t.prototype.clearRecordStatus=function(){this.lBuffer.length=0,this.rBuffer.length=0,this.size=0,this.fileSize=0,this.PCM=null,this.audioInput=null,this.duration=0},t.prototype.flat=function(){var t=null,e=new Float32Array(0);1===this.config.numChannels?t=new Float32Array(this.size):(t=new Float32Array(this.size/2),e=new Float32Array(this.size/2));for(var n=0,i=0;i<this.lBuffer.length;i++)t.set(this.lBuffer[i],n),n+=this.lBuffer[i].length;n=0;for(i=0;i<this.rBuffer.length;i++)e.set(this.rBuffer[i],n),n+=this.rBuffer[i].length;return{left:t,right:e}},t.prototype.initRecorder=function(){var t=this;this.clearRecordStatus(),this.context=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=2048;var e=this.context.createScriptProcessor||this.context.createJavaScriptNode;this.recorder=e.apply(this.context,[4096,this.config.numChannels,this.config.numChannels]),this.recorder.onaudioprocess=function(e){if(t.needRecord){var n,i=e.inputBuffer.getChannelData(0),o=null;t.lBuffer.push(new Float32Array(i)),t.size+=i.length,2===t.config.numChannels&&(o=e.inputBuffer.getChannelData(1),t.rBuffer.push(new Float32Array(o)),t.size+=o.length),t.fileSize=Math.floor(t.size/Math.max(t.inputSampleRate/t.outputSampleRate,1))*(t.oututSampleBits/8),n=100*Math.max.apply(Math,i),t.duration+=4096/t.inputSampleRate,t.onprocess&&t.onprocess(t.duration),t.onprogress&&t.onprogress({duration:t.duration,fileSize:t.fileSize,vol:n})}}},t.prototype.stopStream=function(){this.stream&&this.stream.getTracks&&(this.stream.getTracks().forEach(function(t){return t.stop()}),this.stream=null)},t.prototype.closeAudioContext=function(){return this.context&&this.context.close&&\"closed\"!==this.context.state?this.context.close():new Promise(function(t){t()})},t.initUserMedia=function(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise(function(n,i){e.call(navigator,t,n,i)}):Promise.reject(new Error(\"浏览器不支持 getUserMedia !\"))})},t.prototype.transformIntoPCM=function(t,e){var n=new Float32Array(t),o=new Float32Array(e),r=i.compress({left:n,right:o},this.inputSampleRate,this.outputSampleRate);return i.encodePCM(r,this.oututSampleBits,this.littleEdian)},t.getPermission=function(){return this.initUserMedia(),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){t&&t.getTracks().forEach(function(t){return t.stop()})})},t}();e.default=o}]).default});\r\n//# sourceMappingURL=recorder.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"邀请好友\",\"visible\":_vm.visible,\"width\":\"620px\",\"before-close\":_vm.onClose},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"agm-container\"},[_c('div',{staticClass:\"agm-l-box\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索好友\",\"size\":\"small\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_c('el-scrollbar',{staticStyle:{\"height\":\"400px\"}},_vm._l((_vm.friends),function(friend){return _c('div',{key:friend.id},[_c('friend-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(friend.nickName.includes(_vm.searchText)),expression:\"friend.nickName.includes(searchText)\"}],attrs:{\"showDelete\":false,\"menu\":false,\"friend\":friend,\"active\":false},nativeOn:{\"click\":function($event){return _vm.onSwitchCheck(friend)}}},[_c('el-checkbox',{staticClass:\"agm-friend-checkbox\",attrs:{\"disabled\":friend.disabled,\"size\":\"medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();}},model:{value:(friend.isCheck),callback:function ($$v) {_vm.$set(friend, \"isCheck\", $$v)},expression:\"friend.isCheck\"}})],1)],1)}),0)],1),_c('div',{staticClass:\"agm-arrow el-icon-d-arrow-right\"}),_c('div',{staticClass:\"agm-r-box\"},[_c('div',{staticClass:\"agm-select-tip\"},[_vm._v(\" 已勾选\"+_vm._s(_vm.checkCount)+\"位好友\")]),_c('el-scrollbar',{staticStyle:{\"height\":\"400px\"}},_vm._l((_vm.friends),function(friend){return _c('div',{key:friend.id},[(friend.isCheck && !friend.disabled)?_c('friend-item',{attrs:{\"friend\":friend,\"active\":false,\"menu\":false},on:{\"del\":function($event){return _vm.onRemoveFriend(friend)}}}):_vm._e()],1)}),0)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.onClose()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onOk()}}},[_vm._v(\"确 定\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog title=\"邀请好友\" :visible.sync=\"visible\" width=\"620px\" :before-close=\"onClose\">\n    <div class=\"agm-container\">\n      <div class=\"agm-l-box\">\n        <div class=\"search\">\n          <el-input placeholder=\"搜索好友\" v-model=\"searchText\" size=\"small\">\n            <i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n          </el-input>\n        </div>\n        <el-scrollbar style=\"height:400px;\">\n          <div v-for=\"friend in friends\" :key=\"friend.id\">\n            <friend-item v-show=\"friend.nickName.includes(searchText)\" :showDelete=\"false\"\n              @click.native=\"onSwitchCheck(friend)\" :menu=\"false\" :friend=\"friend\" :active=\"false\">\n              <el-checkbox :disabled=\"friend.disabled\" @click.native.stop=\"\" class=\"agm-friend-checkbox\"\n                v-model=\"friend.isCheck\" size=\"medium\"></el-checkbox>\n            </friend-item>\n          </div>\n        </el-scrollbar>\n      </div>\n      <div class=\"agm-arrow el-icon-d-arrow-right\"></div>\n      <div class=\"agm-r-box\">\n        <div class=\"agm-select-tip\"> 已勾选{{ checkCount }}位好友</div>\n        <el-scrollbar style=\"height:400px;\">\n          <div v-for=\"friend in friends\" :key=\"friend.id\">\n            <friend-item v-if=\"friend.isCheck && !friend.disabled\" :friend=\"friend\" :active=\"false\"\n              @del=\"onRemoveFriend(friend)\" :menu=\"false\">\n            </friend-item>\n          </div>\n        </el-scrollbar>\n      </div>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"onClose()\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"onOk()\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport FriendItem from '../friend/FriendItem.vue';\n\nexport default {\n  name: \"addGroupMember\",\n  components: {\n    FriendItem\n  },\n  data() {\n    return {\n      searchText: \"\",\n      friends: []\n    }\n  },\n  methods: {\n    onClose() {\n      this.$emit(\"close\");\n    },\n    onOk() {\n      let inviteVO = {\n        groupId: this.groupId,\n        friendIds: []\n      }\n      this.friends.forEach((f) => {\n        if (f.isCheck && !f.disabled) {\n          inviteVO.friendIds.push(f.id);\n        }\n      })\n      if (inviteVO.friendIds.length > 0) {\n        this.$http({\n          url: \"/group/invite\",\n          method: 'post',\n          data: inviteVO\n        }).then(() => {\n          this.$message.success(\"邀请成功\");\n          this.$emit(\"reload\");\n          this.$emit(\"close\");\n        })\n      }\n    },\n    onRemoveFriend(friend) {\n      friend.isCheck = false;\n    },\n    onSwitchCheck(friend) {\n      if (!friend.disabled) {\n        friend.isCheck = !friend.isCheck\n      }\n    }\n  },\n  props: {\n    visible: {\n      type: Boolean\n    },\n    groupId: {\n      type: Number\n    },\n    members: {\n      type: Array\n    }\n  },\n  computed: {\n    checkCount() {\n      return this.friends.filter((f) => f.isCheck && !f.disabled).length;\n    }\n  },\n  watch: {\n    visible: function (newData, oldData) {\n      if (newData) {\n        this.friends = [];\n        this.$store.state.friendStore.friends.forEach((f) => {\n          if (f.deleted) {\n            return;\n          }\n          let friend = JSON.parse(JSON.stringify(f))\n          let m = this.members.filter((m) => !m.quit)\n            .find((m) => m.userId == f.id);\n          if (m) {\n            // 好友已经在群里\n            friend.disabled = true;\n            friend.isCheck = true\n          } else {\n            friend.disabled = false;\n            friend.isCheck = false;\n          }\n          this.friends.push(friend);\n        })\n      }\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\">\n.agm-container {\n  display: flex;\n\n  .agm-l-box {\n    flex: 1;\n    overflow: hidden;\n    border: var(--im-border);\n\n    .search {\n      height: 40px;\n      display: flex;\n      align-items: center;\n\n      .el-input__inner {\n        border: unset;\n        border-bottom: var(--im-border);\n      }\n\n    }\n\n    .agm-friend-checkbox {\n      margin-right: 20px;\n    }\n  }\n\n  .agm-arrow {\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    padding: 10px;\n    font-weight: 600;\n    color: var(--im-color-primary);\n  }\n\n  .agm-r-box {\n    flex: 1;\n    border: var(--im-border);\n\n    .agm-select-tip {\n      text-align: left;\n      height: 40px;\n      line-height: 40px;\n      text-indent: 6px;\n      color: var(--im-text-color-light)\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddGroupMember.vue?vue&type=template&id=5e3dd7a5\"\nimport script from \"./AddGroupMember.vue?vue&type=script&lang=js\"\nexport * from \"./AddGroupMember.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddGroupMember.vue?vue&type=style&index=0&id=5e3dd7a5&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInput.vue?vue&type=style&index=0&id=993c9990&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupSide.vue?vue&type=style&index=0&id=5fd699d4&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=style&index=0&id=5e3dd7a5&prod&lang=scss\"","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupMember.vue?vue&type=style&index=0&id=29290a86&prod&lang=scss\"","module.exports = require(\"./dist/recorder.js\");\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatGroupReaded.vue?vue&type=style&index=0&id=2a8e1ca5&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=style&index=0&id=58bf2537&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"friend-item\",class:_vm.active ? 'active' : '',on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showRightMenu($event)}}},[_c('div',{staticClass:\"friend-avatar\"},[_c('head-image',{attrs:{\"size\":42,\"name\":_vm.friend.nickName,\"url\":_vm.friend.headImage,\"online\":_vm.friend.online}})],1),_c('div',{staticClass:\"friend-info\"},[_c('div',{staticClass:\"friend-name\"},[_vm._v(_vm._s(_vm.friend.nickName))]),_c('div',{staticClass:\"friend-online\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.friend.onlineWeb),expression:\"friend.onlineWeb\"}],staticClass:\"el-icon-monitor online\",attrs:{\"title\":\"电脑设备在线\"}},[_c('span',{staticClass:\"online-icon\"})]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.friend.onlineApp),expression:\"friend.onlineApp\"}],staticClass:\"el-icon-mobile-phone online\",attrs:{\"title\":\"移动设备在线\"}},[_c('span',{staticClass:\"online-icon\"})])])]),_c('right-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu && _vm.rightMenu.show),expression:\"menu && rightMenu.show\"}],attrs:{\"pos\":_vm.rightMenu.pos,\"items\":_vm.rightMenu.items},on:{\"close\":function($event){_vm.rightMenu.show = false},\"select\":_vm.onSelectMenu}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"friend-item\" :class=\"active ? 'active' : ''\" @contextmenu.prevent=\"showRightMenu($event)\">\n\t\t<div class=\"friend-avatar\">\n\t\t\t<head-image :size=\"42\" :name=\"friend.nickName\" :url=\"friend.headImage\" :online=\"friend.online\">\n\t\t\t</head-image>\n\t\t</div>\n\t\t<div class=\"friend-info\">\n\t\t\t<div class=\"friend-name\">{{ friend.nickName }}</div>\n\t\t\t<div class=\"friend-online\">\n\t\t\t\t<i class=\"el-icon-monitor online\" v-show=\"friend.onlineWeb\" title=\"电脑设备在线\">\n\t\t\t\t\t<span class=\"online-icon\"></span>\n\t\t\t\t</i>\n\t\t\t\t<i class=\"el-icon-mobile-phone online\" v-show=\"friend.onlineApp\" title=\"移动设备在线\">\n\t\t\t\t\t<span class=\"online-icon\"></span>\n\t\t\t\t</i>\n\t\t\t</div>\n\t\t</div>\n\t\t<right-menu v-show=\"menu && rightMenu.show\" :pos=\"rightMenu.pos\" :items=\"rightMenu.items\"\n\t\t\t@close=\"rightMenu.show = false\" @select=\"onSelectMenu\"></right-menu>\n\t\t<slot></slot>\n\t</div>\n</template>\n\n<script>\nimport HeadImage from '../common/HeadImage.vue';\nimport RightMenu from \"../common/RightMenu.vue\";\n\nexport default {\n\tname: \"frinedItem\",\n\tcomponents: {\n\t\tHeadImage,\n\t\tRightMenu\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trightMenu: {\n\t\t\t\tshow: false,\n\t\t\t\tpos: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\titems: [{\n\t\t\t\t\tkey: 'CHAT',\n\t\t\t\t\tname: '发送消息',\n\t\t\t\t\ticon: 'el-icon-chat-dot-round'\n\t\t\t\t}, {\n\t\t\t\t\tkey: 'DELETE',\n\t\t\t\t\tname: '删除好友',\n\t\t\t\t\ticon: 'el-icon-delete'\n\t\t\t\t}]\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tshowRightMenu(e) {\n\t\t\tthis.rightMenu.pos = {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y\n\t\t\t};\n\t\t\tthis.rightMenu.show = \"true\";\n\t\t},\n\t\tonSelectMenu(item) {\n\t\t\tthis.$emit(item.key.toLowerCase(), this.msgInfo);\n\t\t}\n\t},\n\tprops: {\n\t\tactive: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tfriend: {\n\t\t\ttype: Object\n\t\t},\n\t\tmenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t}\n\n}\n</script>\n\n<style scope lang=\"scss\">\n.friend-item {\n\theight: 50px;\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 5px 10px;\n\talign-items: center;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground-color: var(--im-background-active);\n\t}\n\n\t&.active {\n\t\tbackground-color: var(--im-background-active-dark);\n\t}\n\n\t.friend-avatar {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\n\t.friend-info {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding-left: 10px;\n\t\ttext-align: left;\n\n\t\t.friend-name {\n\t\t\tfont-size: var(--im-font-size);\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.friend-online {\n\t\t\t.online {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tpadding-right: 2px;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.online-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\twidth: 6px;\n\t\t\t\theight: 6px;\n\t\t\t\tbackground: limegreen;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tborder: 1px solid white;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FriendItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FriendItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FriendItem.vue?vue&type=template&id=5781df0a\"\nimport script from \"./FriendItem.vue?vue&type=script&lang=js\"\nexport * from \"./FriendItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./FriendItem.vue?vue&type=style&index=0&id=5781df0a&prod&scope=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}