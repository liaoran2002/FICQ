{"version":3,"sources":["webpack:///./src/components/group/GroupMember.vue","webpack:///src/components/group/GroupMember.vue","webpack:///./src/components/group/GroupMember.vue?7557","webpack:///./src/components/group/GroupMember.vue?703c","webpack:///./src/view/Group.vue","webpack:///./src/components/group/GroupItem.vue","webpack:///src/components/group/GroupItem.vue","webpack:///./src/components/group/GroupItem.vue?8d87","webpack:///./src/components/group/GroupItem.vue?86e5","webpack:///src/view/Group.vue","webpack:///./src/view/Group.vue?8304","webpack:///./src/view/Group.vue?f937","webpack:///./src/components/group/GroupMember.vue?7006","webpack:///./src/components/group/AddGroupMember.vue","webpack:///src/components/group/AddGroupMember.vue","webpack:///./src/components/group/AddGroupMember.vue?3cef","webpack:///./src/components/group/AddGroupMember.vue?874b","webpack:///./src/view/Group.vue?13a0","webpack:///./src/components/group/AddGroupMember.vue?f964","webpack:///./src/components/group/GroupItem.vue?80c0"],"names":["render","_vm","this","_c","_self","staticClass","attrs","member","userId","showNickName","headImage","online","showDel","on","$event","stopPropagation","onDelete","_e","_v","_s","staticRenderFns","name","components","HeadImage","data","props","type","Object","required","Boolean","default","methods","$emit","component","model","value","searchText","callback","$$v","expression","slot","onCreateGroup","_l","groupValues","groups","i","key","groupKeys","group","id","activeGroup","nativeOn","onActiveItem","length","directives","rawName","showGroupName","groupMembers","isOwner","imageAction","maxSize","onUploadSuccess","onSendMessage","ref","rules","$set","ownerName","remarkGroupName","$store","state","userStore","userInfo","nickName","remarkNickName","notice","onInviteMember","onSaveGroup","onQuit","onDissolve","style","scrollHeight","showAddGroupMember","loadGroupMembers","onCloseAddGroupMember","showMembers","idx","showMaxIdx","ownerId","onKick","class","active","GroupItem","GroupMember","FileUpload","AddGroupMember","message","trigger","$prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","o","$http","url","method","commit","JSON","parse","stringify","originUrl","headImageThumb","thumbUrl","$refs","validate","valid","vo","$message","success","$confirm","reset","params","quit","chat","targetId","showName","$router","push","onScroll","e","scrollbar","target","scrollTop","clientHeight","members","firstLetter","strText","pinyinOptions","toneType","pyText","pinyin","isEnglish","character","test","computed","groupStore","find","m","groupMap","map","Map","forEach","g","includes","letter","toUpperCase","has","get","set","arrayObj","Array","from","sort","a","b","localeCompare","keys","values","filter","Math","min","mounted","scrollWrap","$el","querySelector","addEventListener","visible","onClose","staticStyle","friends","friend","onSwitchCheck","disabled","isCheck","checkCount","onRemoveFriend","onOk","FriendItem","inviteVO","groupId","friendIds","f","Number","watch","newData","oldData","friendStore","deleted"],"mappings":"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","file":"js/chunk-1f7abdbb.514abce8.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"group-member\"},[_c('head-image',{attrs:{\"id\":_vm.member.userId,\"name\":_vm.member.showNickName,\"url\":_vm.member.headImage,\"size\":38,\"online\":_vm.member.online}},[(_vm.showDel)?_c('div',{staticClass:\"btn-kick el-icon-error\",on:{\"click\":function($event){$event.stopPropagation();return _vm.onDelete()}}}):_vm._e()]),_c('div',{staticClass:\"member-name\"},[_vm._v(_vm._s(_vm.member.showNickName))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"group-member\">\n\t\t<head-image :id=\"member.userId\" :name=\"member.showNickName\" :url=\"member.headImage\" :size=\"38\"\n\t\t\t:online=\"member.online\">\n\t\t\t<div v-if=\"showDel\" @click.stop=\"onDelete()\" class=\"btn-kick el-icon-error\"></div>\n\t\t</head-image>\n\t\t<div class=\"member-name\">{{ member.showNickName }}</div>\n\t</div>\n</template>\n\n<script>\nimport HeadImage from \"../common/HeadImage.vue\";\nexport default {\n\tname: \"groupMember\",\n\tcomponents: { HeadImage },\n\tdata() {\n\t\treturn {};\n\t},\n\tprops: {\n\t\tmember: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tshowDel: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tonDelete() {\n\t\t\tthis.$emit(\"del\", this.member);\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.group-member {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\twidth: 50px;\n\n\t.member-name {\n\t\tfont-size: 12px;\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\tline-height: 30px;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden\n\t}\n\n\t.btn-kick {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: -8px;\n\t\ttop: -8px;\n\t\tcolor: darkred;\n\t\tfont-size: 20px;\n\t\tcursor: pointer;\n\t}\n\n\t&:hover .btn-kick {\n\t\tdisplay: block;\n\t\tcolor: #ce1818;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupMember.vue?vue&type=template&id=98e9470e\"\nimport script from \"./GroupMember.vue?vue&type=script&lang=js\"\nexport * from \"./GroupMember.vue?vue&type=script&lang=js\"\nimport style0 from \"./GroupMember.vue?vue&type=style&index=0&id=98e9470e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"group-page\"},[_c('el-aside',{staticClass:\"group-list-box\",attrs:{\"width\":\"260px\"}},[_c('div',{staticClass:\"group-list-header\"},[_c('el-input',{staticClass:\"search-text\",attrs:{\"size\":\"small\",\"placeholder\":\"搜索\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})]),_c('el-button',{staticClass:\"add-btn\",attrs:{\"plain\":\"\",\"icon\":\"el-icon-plus\",\"title\":\"创建群聊\"},on:{\"click\":function($event){return _vm.onCreateGroup()}}})],1),_c('el-scrollbar',{staticClass:\"group-list-items\"},_vm._l((_vm.groupValues),function(groups,i){return _c('div',{key:i},[_c('div',{staticClass:\"index-title\"},[_vm._v(_vm._s(_vm.groupKeys[i]))]),_vm._l((groups),function(group){return _c('div',{key:group.id},[_c('group-item',{attrs:{\"group\":group,\"active\":group.id == _vm.activeGroup.id},nativeOn:{\"click\":function($event){return _vm.onActiveItem(group)}}})],1)}),(i < _vm.groupValues.length - 1)?_c('div',{staticClass:\"divider\"}):_vm._e()],2)}),0)],1),_c('el-container',{staticClass:\"group-box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeGroup.id),expression:\"activeGroup.id\"}],staticClass:\"group-header\"},[_vm._v(\" \"+_vm._s(_vm.activeGroup.showGroupName)+\"(\"+_vm._s(_vm.groupMembers.length)+\") \")]),_c('div',{staticClass:\"group-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeGroup.id),expression:\"activeGroup.id\"}]},[_c('div',{staticClass:\"group-info\"},[_c('div',[_c('file-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.imageAction,\"showLoading\":true,\"maxSize\":_vm.maxSize,\"fileTypes\":['image/jpeg', 'image/png', 'image/jpg', 'image/webp']},on:{\"success\":_vm.onUploadSuccess}},[(_vm.activeGroup.headImage)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.activeGroup.headImage}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('head-image',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOwner),expression:\"!isOwner\"}],staticClass:\"avatar\",attrs:{\"size\":160,\"url\":_vm.activeGroup.headImage,\"name\":_vm.activeGroup.showGroupName,\"radius\":\"10%\"}}),_c('el-button',{staticClass:\"send-btn\",attrs:{\"icon\":\"el-icon-position\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSendMessage()}}},[_vm._v(\"发消息 \")])],1),_c('el-form',{ref:\"groupForm\",staticClass:\"group-form\",attrs:{\"label-width\":\"130px\",\"model\":_vm.activeGroup,\"rules\":_vm.rules,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"群聊名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.isOwner,\"maxlength\":\"20\"},model:{value:(_vm.activeGroup.name),callback:function ($$v) {_vm.$set(_vm.activeGroup, \"name\", $$v)},expression:\"activeGroup.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"群主\"}},[_c('el-input',{attrs:{\"value\":_vm.ownerName,\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"群名备注\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.activeGroup.name,\"maxlength\":\"20\"},model:{value:(_vm.activeGroup.remarkGroupName),callback:function ($$v) {_vm.$set(_vm.activeGroup, \"remarkGroupName\", $$v)},expression:\"activeGroup.remarkGroupName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"我在本群的昵称\"}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"placeholder\":_vm.$store.state.userStore.userInfo.nickName},model:{value:(_vm.activeGroup.remarkNickName),callback:function ($$v) {_vm.$set(_vm.activeGroup, \"remarkNickName\", $$v)},expression:\"activeGroup.remarkNickName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"群公告\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.isOwner,\"type\":\"textarea\",\"rows\":3,\"maxlength\":\"1024\",\"placeholder\":\"群主未设置\"},model:{value:(_vm.activeGroup.notice),callback:function ($$v) {_vm.$set(_vm.activeGroup, \"notice\", $$v)},expression:\"activeGroup.notice\"}})],1),_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.onInviteMember()}}},[_vm._v(\"邀请\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.onSaveGroup()}}},[_vm._v(\"保存\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOwner),expression:\"!isOwner\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onQuit()}}},[_vm._v(\"退出\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onDissolve()}}},[_vm._v(\"解散\")])],1)],1)],1),_c('el-divider',{attrs:{\"content-position\":\"center\"}}),_c('el-scrollbar',{ref:\"scrollbar\",style:('height: ' + _vm.scrollHeight + 'px')},[_c('div',{staticClass:\"group-member-list\"},[_c('div',{staticClass:\"group-invite\"},[_c('div',{staticClass:\"invite-member-btn\",attrs:{\"title\":\"邀请好友进群聊\"},on:{\"click\":function($event){return _vm.onInviteMember()}}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('div',{staticClass:\"invite-member-text\"},[_vm._v(\"邀请\")]),_c('add-group-member',{attrs:{\"visible\":_vm.showAddGroupMember,\"groupId\":_vm.activeGroup.id,\"members\":_vm.groupMembers},on:{\"reload\":_vm.loadGroupMembers,\"close\":_vm.onCloseAddGroupMember}})],1),_vm._l((_vm.showMembers),function(member,idx){return _c('div',{key:member.id},[(idx < _vm.showMaxIdx)?_c('group-member',{staticClass:\"group-member\",attrs:{\"member\":member,\"showDel\":_vm.isOwner && member.userId != _vm.activeGroup.ownerId},on:{\"del\":_vm.onKick}}):_vm._e()],1)})],2)])],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"group-item\",class:_vm.active ? 'active' : ''},[_c('div',{staticClass:\"group-avatar\"},[_c('head-image',{attrs:{\"size\":42,\"name\":_vm.group.showGroupName,\"url\":_vm.group.headImage}})],1),_c('div',{staticClass:\"group-name\"},[_c('div',[_vm._v(_vm._s(_vm.group.showGroupName))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"group-item\" :class=\"active ? 'active' : ''\">\n\t\t<div class=\"group-avatar\">\n\t\t\t<head-image :size=\"42\" :name=\"group.showGroupName\" :url=\"group.headImage\"> </head-image>\n\t\t</div>\n\t\t<div class=\"group-name\">\n\t\t\t<div>{{ group.showGroupName }}</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport HeadImage from '../common/HeadImage.vue';\n\nexport default {\n\tname: \"groupItem\",\n\tcomponents: {\n\t\tHeadImage\n\t},\n\tdata() {\n\t\treturn {}\n\t},\n\tprops: {\n\t\tgroup: {\n\t\t\ttype: Object\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.group-item {\n\theight: 50px;\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 5px 10px;\n\talign-items: center;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground-color: var(--im-background-active);\n\t}\n\n\t&.active {\n\t\tbackground-color: var(--im-background-active-dark);\n\t}\n\n\t.group-name {\n\t\tpadding-left: 10px;\n\t\theight: 100%;\n\t\ttext-align: left;\n\t\tline-height: 50px;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tfont-size: var(--im-font-size);\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupItem.vue?vue&type=template&id=502d6557\"\nimport script from \"./GroupItem.vue?vue&type=script&lang=js\"\nexport * from \"./GroupItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./GroupItem.vue?vue&type=style&index=0&id=502d6557&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<el-container class=\"group-page\">\n\t\t<el-aside width=\"260px\" class=\"group-list-box\">\n\t\t\t<div class=\"group-list-header\">\n\t\t\t\t<el-input class=\"search-text\" size=\"small\" placeholder=\"搜索\" v-model=\"searchText\">\n\t\t\t\t\t<i class=\"el-icon-search el-input__icon\" slot=\"prefix\"> </i>\n\t\t\t\t</el-input>\n\t\t\t\t<el-button plain class=\"add-btn\" icon=\"el-icon-plus\" title=\"创建群聊\" @click=\"onCreateGroup()\"></el-button>\n\t\t\t</div>\n\t\t\t<el-scrollbar class=\"group-list-items\">\n\t\t\t\t<div v-for=\"(groups, i) in groupValues\" :key=\"i\">\n\t\t\t\t\t<div class=\"index-title\">{{ groupKeys[i] }}</div>\n\t\t\t\t\t<div v-for=\"group in groups\" :key=\"group.id\">\n\t\t\t\t\t\t<group-item :group=\"group\" :active=\"group.id == activeGroup.id\"\n\t\t\t\t\t\t\t@click.native=\"onActiveItem(group)\">\n\t\t\t\t\t\t</group-item>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"i < groupValues.length - 1\" class=\"divider\"></div>\n\t\t\t\t</div>\n\t\t\t</el-scrollbar>\n\t\t</el-aside>\n\t\t<el-container class=\"group-box\">\n\t\t\t<div class=\"group-header\" v-show=\"activeGroup.id\">\n\t\t\t\t{{ activeGroup.showGroupName }}({{ groupMembers.length }})\n\t\t\t</div>\n\t\t\t<div class=\"group-container\">\n\t\t\t\t<div v-show=\"activeGroup.id\">\n\t\t\t\t\t<div class=\"group-info\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<file-upload v-show=\"isOwner\" class=\"avatar-uploader\" :action=\"imageAction\"\n\t\t\t\t\t\t\t\t:showLoading=\"true\" :maxSize=\"maxSize\" @success=\"onUploadSuccess\"\n\t\t\t\t\t\t\t\t:fileTypes=\"['image/jpeg', 'image/png', 'image/jpg', 'image/webp']\">\n\t\t\t\t\t\t\t\t<img v-if=\"activeGroup.headImage\" :src=\"activeGroup.headImage\" class=\"avatar\">\n\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n\t\t\t\t\t\t\t</file-upload>\n\t\t\t\t\t\t\t<head-image v-show=\"!isOwner\" class=\"avatar\" :size=\"160\" :url=\"activeGroup.headImage\"\n\t\t\t\t\t\t\t\t:name=\"activeGroup.showGroupName\" radius=\"10%\">\n\t\t\t\t\t\t\t</head-image>\n\t\t\t\t\t\t\t<el-button class=\"send-btn\" icon=\"el-icon-position\" type=\"primary\"\n\t\t\t\t\t\t\t\t@click=\"onSendMessage()\">发消息\n\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<el-form class=\"group-form\" label-width=\"130px\" :model=\"activeGroup\" :rules=\"rules\" size=\"small\"\n\t\t\t\t\t\t\tref=\"groupForm\">\n\t\t\t\t\t\t\t<el-form-item label=\"群聊名称\" prop=\"name\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"activeGroup.name\" :disabled=\"!isOwner\" maxlength=\"20\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<el-form-item label=\"群主\">\n\t\t\t\t\t\t\t\t<el-input :value=\"ownerName\" disabled></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<el-form-item label=\"群名备注\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"activeGroup.remarkGroupName\" :placeholder=\"activeGroup.name\"\n\t\t\t\t\t\t\t\t\tmaxlength=\"20\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<el-form-item label=\"我在本群的昵称\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"activeGroup.remarkNickName\" maxlength=\"20\"\n\t\t\t\t\t\t\t\t\t:placeholder=\"$store.state.userStore.userInfo.nickName\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<el-form-item label=\"群公告\">\n\t\t\t\t\t\t\t\t<el-input v-model=\"activeGroup.notice\" :disabled=\"!isOwner\" type=\"textarea\" :rows=\"3\"\n\t\t\t\t\t\t\t\t\tmaxlength=\"1024\" placeholder=\"群主未设置\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<el-button type=\"warning\" v-show=\"isOwner\" @click=\"onInviteMember()\">邀请</el-button>\n\t\t\t\t\t\t\t\t<el-button type=\"success\" @click=\"onSaveGroup()\">保存</el-button>\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" v-show=\"!isOwner\" @click=\"onQuit()\">退出</el-button>\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" v-show=\"isOwner\" @click=\"onDissolve()\">解散</el-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<el-divider content-position=\"center\"></el-divider>\n\t\t\t\t\t<el-scrollbar ref=\"scrollbar\" :style=\"'height: ' + scrollHeight + 'px'\">\n\t\t\t\t\t\t<div class=\"group-member-list\">\n\t\t\t\t\t\t\t<div class=\"group-invite\">\n\t\t\t\t\t\t\t\t<div class=\"invite-member-btn\" title=\"邀请好友进群聊\" @click=\"onInviteMember()\">\n\t\t\t\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"invite-member-text\">邀请</div>\n\t\t\t\t\t\t\t\t<add-group-member :visible=\"showAddGroupMember\" :groupId=\"activeGroup.id\"\n\t\t\t\t\t\t\t\t\t:members=\"groupMembers\" @reload=\"loadGroupMembers\"\n\t\t\t\t\t\t\t\t\t@close=\"onCloseAddGroupMember\"></add-group-member>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-for=\"(member, idx) in showMembers\" :key=\"member.id\">\n\t\t\t\t\t\t\t\t<group-member v-if=\"idx < showMaxIdx\" class=\"group-member\" :member=\"member\"\n\t\t\t\t\t\t\t\t\t:showDel=\"isOwner && member.userId != activeGroup.ownerId\"\n\t\t\t\t\t\t\t\t\t@del=\"onKick\"></group-member>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-scrollbar>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-container>\n\t</el-container>\n</template>\n\n\n<script>\nimport GroupItem from '../components/group/GroupItem';\nimport FileUpload from '../components/common/FileUpload';\nimport GroupMember from '../components/group/GroupMember.vue';\nimport AddGroupMember from '../components/group/AddGroupMember.vue';\nimport HeadImage from '../components/common/HeadImage.vue';\nimport { pinyin } from 'pinyin-pro';\n\nexport default {\n\tname: \"group\",\n\tcomponents: {\n\t\tGroupItem,\n\t\tGroupMember,\n\t\tFileUpload,\n\t\tAddGroupMember,\n\t\tHeadImage\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchText: \"\",\n\t\t\tmaxSize: 5 * 1024 * 1024,\n\t\t\tactiveGroup: {},\n\t\t\tgroupMembers: [],\n\t\t\tshowAddGroupMember: false,\n\t\t\tshowMaxIdx: 150,\n\t\t\trules: {\n\t\t\t\tname: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入群聊名称',\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}]\n\t\t\t}\n\t\t};\n\t},\n\tmethods: {\n\t\tonCreateGroup() {\n\t\t\tthis.$prompt('请输入群聊名称', '创建群聊', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\tinputPattern: /\\S/,\n\t\t\t\tinputErrorMessage: '请输入群聊名称'\n\t\t\t}).then((o) => {\n\t\t\t\tlet userInfo = this.$store.state.userStore.userInfo;\n\t\t\t\tlet data = {\n\t\t\t\t\tname: o.value\n\t\t\t\t}\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/create?groupName=${o.value}`,\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: data\n\t\t\t\t}).then((group) => {\n\t\t\t\t\tthis.$store.commit(\"addGroup\", group);\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tonActiveItem(group) {\n\t\t\tthis.showMaxIdx = 150;\n\t\t\t// store数据不能直接修改，所以深拷贝一份内存\n\t\t\tthis.activeGroup = JSON.parse(JSON.stringify(group));\n\t\t\t// 重新加载群成员\n\t\t\tthis.loadGroupMembers();\n\t\t},\n\t\tonInviteMember() {\n\t\t\tthis.showAddGroupMember = true;\n\t\t},\n\t\tonCloseAddGroupMember() {\n\t\t\tthis.showAddGroupMember = false;\n\t\t},\n\t\tonUploadSuccess(data) {\n\t\t\tthis.activeGroup.headImage = data.originUrl;\n\t\t\tthis.activeGroup.headImageThumb = data.thumbUrl;\n\t\t},\n\t\tonSaveGroup() {\n\t\t\tthis.$refs['groupForm'].validate((valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tlet vo = this.activeGroup;\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: \"/group/modify\",\n\t\t\t\t\t\tmethod: \"put\",\n\t\t\t\t\t\tdata: vo\n\t\t\t\t\t}).then((group) => {\n\t\t\t\t\t\tthis.$store.commit(\"updateGroup\", group);\n\t\t\t\t\t\tthis.$message.success(\"修改成功\");\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonDissolve() {\n\t\t\tthis.$confirm(`确认要解散'${this.activeGroup.name}'吗?`, '确认解散?', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/delete/${this.activeGroup.id}`,\n\t\t\t\t\tmethod: 'delete'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$message.success(`群聊'${this.activeGroup.name}'已解散`);\n\t\t\t\t\tthis.$store.commit(\"removeGroup\", this.activeGroup.id);\n\t\t\t\t\tthis.reset();\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\t\tonKick(member) {\n\t\t\tthis.$confirm(`确定将成员'${member.showNickName}'移出群聊吗？`, '确认移出?', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/kick/${this.activeGroup.id}`,\n\t\t\t\t\tmethod: 'delete',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tuserId: member.userId\n\t\t\t\t\t}\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$message.success(`已将${member.showNickName}移出群聊`);\n\t\t\t\t\tmember.quit = true;\n\t\t\t\t});\n\t\t\t})\n\n\t\t},\n\t\tonQuit() {\n\t\t\tthis.$confirm(`确认退出'${this.activeGroup.showGroupName}',并清空聊天记录吗？`, '确认退出?', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/quit/${this.activeGroup.id}`,\n\t\t\t\t\tmethod: 'delete'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$message.success(`您已退出'${this.activeGroup.name}'`);\n\t\t\t\t\tthis.$store.commit(\"removeGroup\", this.activeGroup.id);\n\t\t\t\t\tthis.$store.commit(\"removeGroupChat\", this.activeGroup.id);\n\t\t\t\t\tthis.reset();\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\t\tonSendMessage() {\n\t\t\tlet chat = {\n\t\t\t\ttype: 'GROUP',\n\t\t\t\ttargetId: this.activeGroup.id,\n\t\t\t\tshowName: this.activeGroup.showGroupName,\n\t\t\t\theadImage: this.activeGroup.headImage,\n\t\t\t};\n\t\t\tthis.$store.commit(\"openChat\", chat);\n\t\t\tthis.$store.commit(\"activeChat\", 0);\n\t\t\tthis.$router.push(\"/home/chat\");\n\t\t},\n\t\tonScroll(e) {\n\t\t\tconst scrollbar = e.target;\n\t\t\t// 滚到底部\n\t\t\tif (scrollbar.scrollTop + scrollbar.clientHeight >= scrollbar.scrollHeight - 30) {\n\t\t\t\tif (this.showMaxIdx < this.showMembers.length) {\n\t\t\t\t\tthis.showMaxIdx += 50;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tloadGroupMembers() {\n\t\t\tthis.$http({\n\t\t\t\turl: `/group/members/${this.activeGroup.id}`,\n\t\t\t\tmethod: \"get\"\n\t\t\t}).then((members) => {\n\t\t\t\tthis.groupMembers = members;\n\t\t\t})\n\t\t},\n\t\treset() {\n\t\t\tthis.activeGroup = {};\n\t\t\tthis.groupMembers = [];\n\t\t},\n\t\tfirstLetter(strText) {\n\t\t\t// 使用pinyin-pro库将中文转换为拼音\n\t\t\tlet pinyinOptions = {\n\t\t\t\ttoneType: 'none', // 无声调\n\t\t\t\ttype: 'normal' // 普通拼音\n\t\t\t};\n\t\t\tlet pyText = pinyin(strText, pinyinOptions);\n\t\t\treturn pyText[0];\n\t\t},\n\t\tisEnglish(character) {\n\t\t\treturn /^[A-Za-z]+$/.test(character);\n\t\t}\n\t},\n\tcomputed: {\n\t\tgroupStore() {\n\t\t\treturn this.$store.state.groupStore;\n\t\t},\n\t\townerName() {\n\t\t\tlet member = this.groupMembers.find((m) => m.userId == this.activeGroup.ownerId);\n\t\t\treturn member && member.showNickName;\n\t\t},\n\t\tisOwner() {\n\t\t\treturn this.activeGroup.ownerId == this.$store.state.userStore.userInfo.id;\n\t\t},\n\t\timageAction() {\n\t\t\treturn `/image/upload`;\n\t\t},\n\t\tgroupMap() {\n\t\t\t// 按首字母分组\n\t\t\tlet map = new Map();\n\t\t\tthis.groupStore.groups.forEach((g) => {\n\t\t\t\tif (g.quit || (this.searchText && !g.showGroupName.includes(this.searchText))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet letter = this.firstLetter(g.showGroupName).toUpperCase();\n\t\t\t\t// 非英文一律为#组\n\t\t\t\tif (!this.isEnglish(letter)) {\n\t\t\t\t\tletter = \"#\"\n\t\t\t\t}\n\t\t\t\tif (map.has(letter)) {\n\t\t\t\t\tmap.get(letter).push(g);\n\t\t\t\t} else {\n\t\t\t\t\tmap.set(letter, [g]);\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 排序\n\t\t\tlet arrayObj = Array.from(map);\n\t\t\tarrayObj.sort((a, b) => {\n\t\t\t\t// #组在最后面\n\t\t\t\tif (a[0] == '#' || b[0] == '#') {\n\t\t\t\t\treturn b[0].localeCompare(a[0])\n\t\t\t\t}\n\t\t\t\treturn a[0].localeCompare(b[0])\n\t\t\t})\n\t\t\tmap = new Map(arrayObj.map(i => [i[0], i[1]]));\n\t\t\treturn map;\n\t\t},\n\t\tgroupKeys() {\n\t\t\treturn Array.from(this.groupMap.keys());\n\t\t},\n\t\tgroupValues() {\n\t\t\treturn Array.from(this.groupMap.values());\n\t\t},\n\t\tshowMembers() {\n\t\t\treturn this.groupMembers.filter((m) => !m.quit)\n\t\t},\n\t\tscrollHeight() {\n\t\t\treturn Math.min(300, 80 + this.showMembers.length / 10 * 80);\n\t\t}\n\t},\n\tmounted() {\n\t\tlet scrollWrap = this.$refs.scrollbar.$el.querySelector('.el-scrollbar__wrap');\n\t\tscrollWrap.addEventListener('scroll', this.onScroll);\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.group-page {\n\t.group-list-box {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground: var(--im-background);\n\n\t\t.group-list-header {\n\t\t\theight: 50px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 8px;\n\n\t\t\t.add-btn {\n\t\t\t\tpadding: 5px !important;\n\t\t\t\tmargin: 5px;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t}\n\n\t\t.group-list-items {\n\t\t\tflex: 1;\n\n\t\t\t.index-title {\n\t\t\t\ttext-align: left;\n\t\t\t\tfont-size: var(--im-larger-size-larger);\n\t\t\t\tpadding: 5px 15px;\n\t\t\t\tcolor: var(--im-text-color-light);\n\t\t\t}\n\t\t}\n\t}\n\n\t.group-box {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t.group-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tpadding: 0 12px;\n\t\t\tline-height: 50px;\n\t\t\tfont-size: var(--im-font-size-larger);\n\t\t\tborder-bottom: var(--im-border);\n\t\t}\n\n\t\t.el-divider--horizontal {\n\t\t\tmargin: 16px 0;\n\t\t}\n\n\t\t.group-container {\n\t\t\toverflow: auto;\n\t\t\tpadding: 20px;\n\t\t\tflex: 1;\n\n\t\t\t.group-info {\n\t\t\t\tdisplay: flex;\n\t\t\t\tpadding: 5px 20px;\n\n\t\t\t\t.group-form {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding-left: 40px;\n\t\t\t\t\tmax-width: 700px;\n\t\t\t\t}\n\n\t\t\t\t.avatar-uploader {\n\t\t\t\t\t--width: 160px;\n\t\t\t\t\ttext-align: left;\n\n\t\t\t\t\t.el-upload {\n\t\t\t\t\t\tborder: 1px dashed #d9d9d9 !important;\n\t\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\t.el-upload:hover {\n\t\t\t\t\t\tborder-color: #409EFF;\n\t\t\t\t\t}\n\n\t\t\t\t\t.avatar-uploader-icon {\n\t\t\t\t\t\tfont-size: 28px;\n\t\t\t\t\t\tcolor: #8c939d;\n\t\t\t\t\t\twidth: var(--width);\n\t\t\t\t\t\theight: var(--width);\n\t\t\t\t\t\tline-height: var(--width);\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.avatar {\n\t\t\t\t\t\twidth: var(--width);\n\t\t\t\t\t\theight: var(--width);\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.send-btn {\n\t\t\t\t\tmargin-top: 12px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.group-member-list {\n\t\t\t\tpadding: 0 12px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\ttext-align: center;\n\n\t\t\t\t.group-member {\n\t\t\t\t\tmargin-right: 5px;\n\t\t\t\t}\n\n\t\t\t\t.group-invite {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\twidth: 60px;\n\n\t\t\t\t\t.invite-member-btn {\n\t\t\t\t\t\twidth: 38px;\n\t\t\t\t\t\theight: 38px;\n\t\t\t\t\t\tline-height: 38px;\n\t\t\t\t\t\tborder: var(--im-border);\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\tborder: #aaaaaa solid 1px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.invite-member-text {\n\t\t\t\t\t\tfont-size: var(--im-font-size-smaller);\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\tline-height: 30px;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\toverflow: hidden\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=12296277\"\nimport script from \"./Group.vue?vue&type=script&lang=js\"\nexport * from \"./Group.vue?vue&type=script&lang=js\"\nimport style0 from \"./Group.vue?vue&type=style&index=0&id=12296277&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMember.vue?vue&type=style&index=0&id=98e9470e&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"邀请好友\",\"visible\":_vm.visible,\"width\":\"620px\",\"before-close\":_vm.onClose},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"agm-container\"},[_c('div',{staticClass:\"agm-l-box\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索好友\",\"size\":\"small\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_c('el-scrollbar',{staticStyle:{\"height\":\"400px\"}},_vm._l((_vm.friends),function(friend){return _c('div',{key:friend.id},[_c('friend-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(friend.nickName.includes(_vm.searchText)),expression:\"friend.nickName.includes(searchText)\"}],attrs:{\"showDelete\":false,\"menu\":false,\"friend\":friend,\"active\":false},nativeOn:{\"click\":function($event){return _vm.onSwitchCheck(friend)}}},[_c('el-checkbox',{staticClass:\"agm-friend-checkbox\",attrs:{\"disabled\":friend.disabled,\"size\":\"medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();}},model:{value:(friend.isCheck),callback:function ($$v) {_vm.$set(friend, \"isCheck\", $$v)},expression:\"friend.isCheck\"}})],1)],1)}),0)],1),_c('div',{staticClass:\"agm-arrow el-icon-d-arrow-right\"}),_c('div',{staticClass:\"agm-r-box\"},[_c('div',{staticClass:\"agm-select-tip\"},[_vm._v(\" 已勾选\"+_vm._s(_vm.checkCount)+\"位好友\")]),_c('el-scrollbar',{staticStyle:{\"height\":\"400px\"}},_vm._l((_vm.friends),function(friend){return _c('div',{key:friend.id},[(friend.isCheck && !friend.disabled)?_c('friend-item',{attrs:{\"friend\":friend,\"active\":false,\"menu\":false},on:{\"del\":function($event){return _vm.onRemoveFriend(friend)}}}):_vm._e()],1)}),0)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.onClose()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onOk()}}},[_vm._v(\"确 定\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog title=\"邀请好友\" :visible.sync=\"visible\" width=\"620px\" :before-close=\"onClose\">\n    <div class=\"agm-container\">\n      <div class=\"agm-l-box\">\n        <div class=\"search\">\n          <el-input placeholder=\"搜索好友\" v-model=\"searchText\" size=\"small\">\n            <i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n          </el-input>\n        </div>\n        <el-scrollbar style=\"height:400px;\">\n          <div v-for=\"friend in friends\" :key=\"friend.id\">\n            <friend-item v-show=\"friend.nickName.includes(searchText)\" :showDelete=\"false\"\n              @click.native=\"onSwitchCheck(friend)\" :menu=\"false\" :friend=\"friend\" :active=\"false\">\n              <el-checkbox :disabled=\"friend.disabled\" @click.native.stop=\"\" class=\"agm-friend-checkbox\"\n                v-model=\"friend.isCheck\" size=\"medium\"></el-checkbox>\n            </friend-item>\n          </div>\n        </el-scrollbar>\n      </div>\n      <div class=\"agm-arrow el-icon-d-arrow-right\"></div>\n      <div class=\"agm-r-box\">\n        <div class=\"agm-select-tip\"> 已勾选{{ checkCount }}位好友</div>\n        <el-scrollbar style=\"height:400px;\">\n          <div v-for=\"friend in friends\" :key=\"friend.id\">\n            <friend-item v-if=\"friend.isCheck && !friend.disabled\" :friend=\"friend\" :active=\"false\"\n              @del=\"onRemoveFriend(friend)\" :menu=\"false\">\n            </friend-item>\n          </div>\n        </el-scrollbar>\n      </div>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"onClose()\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"onOk()\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport FriendItem from '../friend/FriendItem.vue';\n\nexport default {\n  name: \"addGroupMember\",\n  components: {\n    FriendItem\n  },\n  data() {\n    return {\n      searchText: \"\",\n      friends: []\n    }\n  },\n  methods: {\n    onClose() {\n      this.$emit(\"close\");\n    },\n    onOk() {\n      let inviteVO = {\n        groupId: this.groupId,\n        friendIds: []\n      }\n      this.friends.forEach((f) => {\n        if (f.isCheck && !f.disabled) {\n          inviteVO.friendIds.push(f.id);\n        }\n      })\n      if (inviteVO.friendIds.length > 0) {\n        this.$http({\n          url: \"/group/invite\",\n          method: 'post',\n          data: inviteVO\n        }).then(() => {\n          this.$message.success(\"邀请成功\");\n          this.$emit(\"reload\");\n          this.$emit(\"close\");\n        })\n      }\n    },\n    onRemoveFriend(friend) {\n      friend.isCheck = false;\n    },\n    onSwitchCheck(friend) {\n      if (!friend.disabled) {\n        friend.isCheck = !friend.isCheck\n      }\n    }\n  },\n  props: {\n    visible: {\n      type: Boolean\n    },\n    groupId: {\n      type: Number\n    },\n    members: {\n      type: Array\n    }\n  },\n  computed: {\n    checkCount() {\n      return this.friends.filter((f) => f.isCheck && !f.disabled).length;\n    }\n  },\n  watch: {\n    visible: function (newData, oldData) {\n      if (newData) {\n        this.friends = [];\n        this.$store.state.friendStore.friends.forEach((f) => {\n          if (f.deleted) {\n            return;\n          }\n          let friend = JSON.parse(JSON.stringify(f))\n          let m = this.members.filter((m) => !m.quit)\n            .find((m) => m.userId == f.id);\n          if (m) {\n            // 好友已经在群里\n            friend.disabled = true;\n            friend.isCheck = true\n          } else {\n            friend.disabled = false;\n            friend.isCheck = false;\n          }\n          this.friends.push(friend);\n        })\n      }\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\">\n.agm-container {\n  display: flex;\n\n  .agm-l-box {\n    flex: 1;\n    overflow: hidden;\n    border: var(--im-border);\n\n    .search {\n      height: 40px;\n      display: flex;\n      align-items: center;\n\n      .el-input__inner {\n        border: unset;\n        border-bottom: var(--im-border);\n      }\n\n    }\n\n    .agm-friend-checkbox {\n      margin-right: 20px;\n    }\n  }\n\n  .agm-arrow {\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    padding: 10px;\n    font-weight: 600;\n    color: var(--im-color-primary);\n  }\n\n  .agm-r-box {\n    flex: 1;\n    border: var(--im-border);\n\n    .agm-select-tip {\n      text-align: left;\n      height: 40px;\n      line-height: 40px;\n      text-indent: 6px;\n      color: var(--im-text-color-light)\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddGroupMember.vue?vue&type=template&id=5e3dd7a5\"\nimport script from \"./AddGroupMember.vue?vue&type=script&lang=js\"\nexport * from \"./AddGroupMember.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddGroupMember.vue?vue&type=style&index=0&id=5e3dd7a5&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=style&index=0&id=12296277&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGroupMember.vue?vue&type=style&index=0&id=5e3dd7a5&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupItem.vue?vue&type=style&index=0&id=502d6557&prod&lang=scss\""],"sourceRoot":""}